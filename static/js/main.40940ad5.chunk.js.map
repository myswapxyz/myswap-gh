{"version":3,"sources":["components/BoxHeader.js","atoms.ts","services/amm.ts","services/static_data.ts","components/StyleCustomizations.js","components/Approve.js","components/Balance.js","components/TokenSelector.js","services/wallet.service.ts","images/assets/ArgentX-button-download.svg","components/WalletOptions.js","services/ga.js","images/logo/Argent-x-logo.png","images/logo/StarkNet Icon.png","components/ConnectWallet.js","images/logo/eth@2x.png","components/Swap.js","images/icons/switch_arrows_60x60.png","components/RemoveLiquidity.js","components/LiquidityPool.js","components/Positions.js","components/Provide.js","components/Charts.js","components/Main.js","components/Wiper.js","components/Toast.js","components/Toasts.js","components/PendingTransaction.js","components/PendingTransactions.js","images/bgd/bg2.png","App.js","images/logo/Logo-mySwap-White.png","theme.js","index.js"],"names":["DEFAULT_SLIPPAGE","BoxHeader","props","slippage","setSlippage","useState","anchorEl","setAnchorEl","handleClose","name","setRecoil","swapSlippage","addLiquiditySlippage","withdrawLiquiditySlippage","console","log","Box","sx","flexGrow","AppBar","position","boxShadow","borderRadius","backgroundColor","Toolbar","IconButton","size","edge","color","aria-label","onClick","event","currentTarget","mr","right","Typography","fontSize","fontWeight","Menu","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","PaperProps","style","width","open","Boolean","onClose","MenuItem","mb","Divider","variant","borderBottomWidth","Input","ml","borderBottomColor","value","onChange","target","onKeyPress","key","disableUnderline","inputProps","step","min","max","type","textAlign","Grid","item","container","justifyContent","Button","textWeight","mt","walletAddressState","atom","default","poolsState","Map","tokensState","tokensUserDataState","pendingTxsState","Array","toastsState","transactionsStatusSelector","selectorFamily","get","componentName","pendingTx","filter","t","walletAmountsSelector","selector","r","forEach","tud","address","undefined","userBalance","token","decimals","set","walletAllowanceSelector","userApproved","lastTxDoneSelector","tx","hash","status","done","includes","safeToSendTxSelector","n","length","swapSelector","stark","getSelectorFromName","addLiquiditySelector","withdrawLiquiditySelector","getLPBalanceSelector","amm_contract","amm_contract_decimal","BigNumber","toString","selector_get_total_number_of_pools","selector_get_pool","selector_get_total_shares","approveSelector","selector_name","selector_symbol","selector_balanceOf","selector_allowance","selector_decimals","WALLET_SUFFICIENT_BALANCE","numFormat","num","isPercent","res","shiftedBy","sd","ROUND_DOWN","toPrecision","lt","toFixed","tokenAllowanceForAMM","ret","getRecoil","isTokenApproved","amount","tokenAllowance","gte","float_to_decimal_int","e","checkAndUpdateComponentTransactions","transactionsStatus","componentTxs","setTransactionInProgress","hasOwnProperty","some","s","getPoolPriceForTokenA","poolId","token_in","token_out","otherAmount","pool","ratio","token1","decimal_int_to_float","token2Amount","times","div","token1Amount","getWalletTokenAmount","activeAccount","walletAddress","isSufficientBalanceInWallet","tokenWalletAmount","isPositive","lte","addToastMsg","msg","dismiss","random","current","updatePoolsAndTokens","async","starknet","getStarknet","provider","callContract","contract_address","entry_point_selector","calldata","numPools","Number","result","pools","tokens","new_pools","new_tokens","i","currentPool","refresh","Date","now","SECS_TO_REFRESH_POOL_DATA","data","shares","hex_to_ascii","composeUInt256","token2","fee","cfmm","alsoUpdateTokens","symbol","icon","promises","p","then","push","p1","p2","Promise","allSettled","updateAllTokensDynamicData","_","updateTokenDynamicData","updatePoolDynamicData","curVal","updatePoolData","isConnected","Error","token_address","current_token","t_thresh","currentTud","newMap","ammBalance","balance","numberToCallParam","p3","addPendingTx","approve","tokenFrom","safeToSend","signer","invokeFunction","transaction_hash","low","high","plus","pow","str1","hex","substr","str","String","fromCharCode","parseInt","getPoolIdFromTokens","t1","t2","sortTokens","calcOtherTokenAmount","token_leading","token_other","token_leading_amount_float","leading_token_number","token_leading_amount","token_leading_reserve","token_other_reserve","minus","calcOtherTokenRequiredAmountForLiquidity","token_a","token_b","token_a_float","token_a_amount","price","SERVER_URL","StyledLoadingButton","styled","LoadingButton","marginBottom","overflow","StyledButtonTypography","fontColor","marginTop","DEFAULT_APPROVE_AMOUNT","BigInt","Approve","useRecoilState","connectedAddress","tokenApproveInProgress","setTokenApproveInProgress","approveTxCompletedSuccessfully","setApproveTxCompletedSuccessfully","setComponentTxs","tokenAmount","activePoolId","tokenInRange","useEffect","approveTxStatusUpdateCallback","handleApproveToken","approveAmount","prevState","message","token_obj","fullWidth","loading","loadingPosition","startIcon","Balance","showMaxButton","setMaxAmountHandler","walletAmount","minWidth","TokenSelector","tokenStr","otherToken","handleTokenSelect","handleTokenAmountChange","FormControl","InputLabel","shrink","Select","labelId","label","border","fill","marginRight","MenuProps","borderColor","height","margin","otherSelectedToken","direction","src","alt","menuItems","enable","networkId","baseUrl","getExplorerUrlBase","top","left","transform","WalletOptions","setOpen","React","Modal","setOpenWalletOptions","aria-labelledby","aria-describedby","component","Link","href","ArgentExtensionLink","is_ga_initialized","GAinit","ReactGA","initialize","GApage","page","pageview","GAbutton","cat","action","category","GAtrack","ConnectWallet","walletConnectionStatus","setWalletConnectionStatus","voyagerBaseUrl","setVoyagerBaseUrl","networkName","setNetworkName","changeListenerRegistered","setChangeListenerRegistered","setAddress","openWalletOptions","handleClick","showModal","connectWallet","secondary","handleWalletChange","accounts","handleEvent","on","addWalletChangeListener","buttonText","buttonDisabled","disabled","bgcolor","handleConnectedClick","window","spacing","alignItems","class","marginLeft","StarknetLogo","maxHeight","walletStatus","MAX_SAFE_INTEGER","Swap","setActivePoolId","setToken1","setToken1Amount","setToken2","setToken2Amount","leadingToken","setLeadingToken","swapInProgress","setSwapInProgress","tuds","useInterval","regex","test","calcToken2MinAmount","parseFloat","handleSwap","minAmountOut","swapAmount","swap","priceDirection","setPriceDirection","Card","pb","pt","xs","TextField","helperText","placeholder","autoComplete","input","background","error","tmpToken","tmpAmount","isZero","currentPrice","minAmount","token1Symbol","token2Symbol","floatSlippage","transactionPrice","transactionPriceInv","priceImpact","gt","textColor","displayPrice1","displayPrice2","CardActionArea","priceAndSlippage","token1SufficientBalance","token2InsufficientPoolBalance","floatAmount","decimalAmount","isInsufficientBalanceInPool","instruction","swapButton","Item","Paper","theme","typography","body2","padding","palette","text","MuiInput","RemoveLiquidity","percent","setPercent","removeLiquidityInProgress","setRemoveLiquidityInProgress","openRemoveLiquidity","updateState","newPercent","setAmounts","Dialog","elevation","DialogContent","DialogContentText","Slider","defaultValue","valueLabelDisplay","marks","pr","onBlur","endAdornment","InputAdornment","CardHeader","title","disableTypography","pl","Stack","token1Icon","token2Icon","DialogActions","sharesToWithdraw","minToken1Amount","minToken2Amount","tmp","pool_id","token_a_min_amount","token_b_min_amount","withdraw_liquidity","LiquidityPool","setOpenRemoveLiquidity","userPoolShare","userToken1Amount","user_share","userToken1AmountDecimal","userToken2Amount","userToken2AmountDecimal","CardContent","gutterBottom","d1","d2","d_balance","Math","floor","CardActions","renderRemoveLiquidity","Positions","userPools","setUserPools","fetchBalance","getLPBalance","prev","m","allPools","Provide","addLiquidityInProgress","setAddLiquidityInProgress","approveToken1TxCompletedSuccessfully","setApproveToken1TxCompletedSuccessfully","approveToken2TxCompletedSuccessfully","setApproveToken2TxCompletedSuccessfully","handleAddLiquidity","minAmount1Out","minAmount2Out","token_a_address","token_b_address","token_b_amount","add_liquidity","symbol1","symbol2","priceForToken1","priceForToken2","pool_share","AlignItems","lineHeight","priceAndShare","token2SufficientBalance","addLiquidityButton","ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Charts","align","Main","selectedTab","setSelectedTab","Tabs","disableRipple","newValue","centered","Tab","Wiper","mintedTokens","setMintedTokens","waitingToWipe","setWaitingToWipe","walletAmounts","walletAllowances","lastTxDone","startWipe","setStartWipe","mintedState","0","1","2","wipeNextToken","x","shift","entries","xx","entry","minted","approvedAmount","slice","myTokensList","waitingToWipeList","Toast","reason","Snackbar","className","autoHideDuration","Alert","severity","Toasts","toasts","allActiveToasts","activeToasts","PendingTransaction","substring","transactionStatus","PendingTransactions","txs","getTransactionStatus","pendingTxs","find","tx_status","currTxs","tx_","Object","assign","getTransactionUpdate","split","map","toUpperCase","join","pendingTransactions","styles","paperContainer","backgroundImage","BgImage","backgroundSize","backgroundPosition","backgroundRepeat","minHeight","App","fetch","json","fetchAmmInfo","numberOfPools","d","poolName","tokenAAddress","tokenAReserves","tokenBAddress","tokenBReserves","feePercentage","fetchPools","numberOfTokens","tokenAddress","tokenName","tokenSymbol","tokenIcon","tokenDecimals","fetchTokens","updatePoolsAndTokensStatic","RecoilNexus","exact","path","Container","maxWidth","createTheme","primary","main","contrastText","paper","info","shape","ReactDOM","render","ThemeProvider","StrictMode","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.40940ad5.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { setRecoil } from 'recoil-nexus'\nimport { swapSlippage, addLiquiditySlippage, withdrawLiquiditySlippage } from '../atoms'\nimport {\n    MenuItem,\n    Typography,\n    AppBar,\n    Box,\n    Toolbar,\n    IconButton,\n    Input,\n    Button,\n    Grid,\n    Divider,\n    Menu\n} from '@mui/material'\nimport SettingsIcon from '@mui/icons-material/Settings'\n\nexport const DEFAULT_SLIPPAGE = '0.50'\n\nfunction BoxHeader(props) {\n    const [slippage, setSlippage] = useState(DEFAULT_SLIPPAGE)\n    const [anchorEl, setAnchorEl] = useState(null)\n\n    const handleSlippageChange = (event) => {\n        setSlippage(event.target.value)\n    }\n\n    const handleMenu = (event) => {\n        setAnchorEl(event.currentTarget)\n    }\n\n    const handleClose = () => {\n        if (props.name === 'Swap') setRecoil(swapSlippage, slippage)\n        if (props.name === 'Add Liquidity') setRecoil(addLiquiditySlippage, slippage)\n        if (props.name === 'Remove Liquidity')\n            setRecoil(withdrawLiquiditySlippage, slippage)\n\n        console.log('Slippage set to: ', slippage)\n        setAnchorEl(null)\n    }\n\n    return (\n        <Box sx={{ flexGrow: 1 }}>\n            <AppBar\n                position='static'\n                sx={{\n                    boxShadow: 4,\n                    borderRadius: 1,\n                    backgroundColor: '#3649AC'\n                }}>\n                <Toolbar>\n                    <IconButton\n                        size='large'\n                        edge='start'\n                        color='inherit'\n                        aria-label='menu'\n                        onClick={handleMenu}\n                        sx={{ mr: 2, position: 'absolute', right: '0%' }}>\n                        <SettingsIcon />\n                    </IconButton>\n                    <Typography sx={{ flexGrow: 1, fontSize: 24, fontWeight: 'bold' }}>\n                        {props.name}\n                    </Typography>\n                    <div>\n                        <Menu\n                            id='menuAppBar'\n                            sx={{ boxShadow: 1 }}\n                            anchorEl={anchorEl}\n                            anchorOrigin={{\n                                vertical: 'top',\n                                horizontal: 'right'\n                            }}\n                            keepMounted\n                            transformOrigin={{\n                                vertical: 'top',\n                                horizontal: 'right'\n                            }}\n                            PaperProps={{\n                                style: {\n                                    width: 250,\n                                    backgroundColor: '#3c3966'\n                                }\n                            }}\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose}>\n                            <MenuItem sx={{ fontSize: 20, fontWeight: 'bold', mb: -1 }}>\n                                Transaction Settings\n                            </MenuItem>\n                            <Divider\n                                variant='middle'\n                                sx={{\n                                    borderBottomWidth: 1,\n                                    backgroundColor: 'rgba(255, 255, 255, 0.2)'\n                                }}\n                            />\n                            <MenuItem>\n                                Set Slippage:\n                                <Input\n                                    sx={{\n                                        ml: 3,\n                                        mb: -0.5,\n                                        ':before': { borderBottomColor: 'white' },\n                                        // underline when selected\n                                        ':after': { borderBottomColor: 'white' }\n                                    }}\n                                    value={slippage}\n                                    size='small'\n                                    onChange={handleSlippageChange}\n                                    onKeyPress={(event) => {\n                                        if (event.key === 'Enter') handleClose()\n                                    }}\n                                    disableUnderline={false}\n                                    inputProps={{\n                                        step: 0.01,\n                                        min: 0,\n                                        max: 100,\n                                        type: 'number',\n                                        style: { textAlign: 'right' },\n                                        'aria-labelledby': 'input-slider'\n                                    }}\n                                />\n                            </MenuItem>\n                            <Grid item container justifyContent='center'>\n                                <Button\n                                    variant='contained'\n                                    size='small'\n                                    sx={{\n                                        textWeight: 'bold',\n                                        mt: 1.5,\n                                        backgroundColor: '#181d55'\n                                    }}\n                                    onClick={handleClose}>\n                                    OK\n                                </Button>\n                            </Grid>\n                        </Menu>\n                    </div>\n                </Toolbar>\n            </AppBar>\n        </Box>\n    )\n}\n\nexport default BoxHeader\n","import { atom, selector, selectorFamily } from 'recoil'\nimport { DEFAULT_SLIPPAGE } from './components/BoxHeader'\n\n//const { persistAtom } = recoilPersist() // not currently used\n\nexport interface Pool {\n    id: number\n    name: string\n    token1: string\n    token1Amount: string // dynamic TODO: | undefined\n    token2: string\n    token2Amount: string // dynamic TODO: | undefined\n    refresh: number // when is the last time we refreshed this pool's data\n    fee: number\n    shares: string\n    cfmm: number\n}\n\n// static Token data\nexport interface Token {\n    name: string\n    symbol: string\n    address: string\n    decimals: number\n    id: number\n    icon: string // url\n}\n\n// dynamic Token data\nexport interface TokenUserData {\n    address: string\n    ammBalance: string | undefined\n    userBalance: string | undefined\n    userApproved: string | undefined\n    refresh: number // when is the last time we refreshed the user data for this token\n}\n\nexport interface Transaction {\n    hash: string\n    type: string\n    status: string\n    dismiss: boolean // TODO : remove\n    // TODO add acceptance time\n}\n\nexport interface ToastMsg {\n    msg: string\n    type: string\n    dismiss: boolean\n    hash: string // for uniqueness\n}\n\nexport const walletAddressState = atom({\n    key: 'walletAddressState',\n    default: ''\n})\n\nexport const isWalletConnectedState = atom({\n    key: 'isWalletConnectedState',\n    default: 0 // 0-not connected, 1=being connected, 2=connected\n})\n\nexport const poolsState = atom({\n    key: 'poolsState',\n    //    effects_UNSTABLE: [persistAtom],\n    default: new Map<number, Pool>()\n})\n\nexport const tokensState = atom({\n    key: 'tokensState',\n    //  effects_UNSTABLE: [persistAtom],\n    default: new Map<string, Token>()\n})\n\nexport const tokensUserDataState = atom({\n    key: 'tokensUserDataState',\n    default: new Map<string, TokenUserData>()\n})\n\nexport const pendingTxsState = atom({\n    key: 'pendingTxsState',\n    default: new Array<Transaction>()\n})\n\nexport const toastsState = atom({\n    key: 'toastsState',\n    default: new Array<ToastMsg>()\n})\n\nexport const swapSlippage = atom({\n    key: 'swapSlippage',\n    default: DEFAULT_SLIPPAGE\n})\n\nexport const addLiquiditySlippage = atom({\n    key: 'addLiquiditySlippage',\n    default: DEFAULT_SLIPPAGE\n})\n\nexport const withdrawLiquiditySlippage = atom({\n    key: 'withdrawLiquiditySlippage',\n    default: DEFAULT_SLIPPAGE\n})\n\n\n// Selectors\n\nexport const transactionsStatusSelector = selectorFamily ({\n    key: 'transactionsStatusSelector',\n    get: (componentName: string) => ({ get }): Array<Transaction> | undefined => {\n        let pendingTx = get(pendingTxsState)\n        if (pendingTx)\n            return pendingTx.filter(t => t.type === componentName)\n        return undefined\n    }\n})\n\nexport const walletAmountsSelector = selector({\n    key: 'walletAmountsSelector',\n    get: ({ get }): Map<string, string> => {\n        let r = new Map<string, string>()\n        get(tokensUserDataState).forEach((tud, address) => {\n            if (tud.userBalance !== undefined) {\n                let token = get(tokensState).get(address)\n                if (token && token.decimals) {\n                    r.set(address, tud.userBalance)\n                }\n            }\n        })\n        return r\n    }\n})\n\nexport const walletAllowanceSelector = selector({\n    key: 'walletAllowanceSelector',\n    get: ({ get }): Map<string, string> => {\n        let r = new Map<string, string>()\n        get(tokensUserDataState).forEach((tud, address) => {\n            if (tud.userApproved !== undefined) {\n                let token = get(tokensState).get(address)\n                if (token && token.decimals) {\n                    r.set(address, tud.userApproved)\n                }\n            }\n        })\n        return r\n    }\n})\n\nexport const pendingTxSelector = selector({\n    key: 'pendingTxSelector',\n    get: ({ get }): Map<string, string> => {\n        let r = new Map<string, string>()\n        get(pendingTxsState).forEach((tx) => {\n            r.set(tx.hash, tx.status)\n        })\n        return r\n    }\n})\n\nexport const lastTxDoneSelector = selector({\n    key: 'lastTxDoneSelector',\n    get: ({ get }): boolean => {\n        let done = true\n        get(pendingTxsState).forEach((tx) => {\n            done = false\n            if (tx.status === 'REJECTED' || tx.status.includes('ACCEPTED')) done = true\n        })\n        return done\n    }\n})\n\nexport const safeToSendTxSelector = selector({\n    key: 'safeToSendTxSelector',\n    get: ({ get }): boolean => {\n        const n = get(pendingTxsState).length\n        if (n === 0) return true\n\n        const tx = get(pendingTxsState)[n - 1]\n        if (tx.status.includes('REJECTED') || tx.status.includes('ACCEPTED')) return true //TODO: once Argent fix starknet.js, we need to add 'PENDING' as well\n\n        return false\n    }\n})\n","import { getRecoil, setRecoil } from 'recoil-nexus'\nimport { BigNumber } from 'bignumber.js'\nimport { stark } from 'starknet'\nimport { getStarknet } from '@argent/get-starknet'\n\nimport {\n    walletAddressState,\n    poolsState,\n    tokensState,\n    tokensUserDataState,\n    Pool,\n    Token,\n    TokenUserData,\n    pendingTxsState,\n    Transaction,\n    ToastMsg,\n    toastsState,\n    safeToSendTxSelector\n} from '../atoms'\n\n\n\n// amm\nconst swapSelector = stark.getSelectorFromName('swap')\nconst addLiquiditySelector = stark.getSelectorFromName('add_liquidity')\nconst withdrawLiquiditySelector = stark.getSelectorFromName('withdraw_liquidity')\nconst getLPBalanceSelector = stark.getSelectorFromName('get_lp_balance')\n//const amm_contract = '0x008fb0ec84a7025839faafbf9eeee6b6e9957d50bd418a334d00740fbb9f6170'\nconst amm_contract = '0xfbcbc5f1db50c34094223c2b575e65fedb363ae6a0885613c25879b931d5e7'\nconst amm_contract_decimal = BigNumber(amm_contract).toString(10)\n\nconst selector_get_total_number_of_pools = stark.getSelectorFromName(\n    'get_total_number_of_pools'\n)\nconst selector_get_pool = stark.getSelectorFromName('get_pool')\nconst selector_get_total_shares = stark.getSelectorFromName('get_total_shares')\n//const selector_get_pool_token_balance = stark.getSelectorFromName(\"get_pool_token_balance\")\n\n// ERC20\nconst approveSelector = stark.getSelectorFromName('approve')\nconst mintSelector = stark.getSelectorFromName('mint')\n\nconst selector_name = stark.getSelectorFromName('name')\nconst selector_symbol = stark.getSelectorFromName('symbol')\nconst selector_balanceOf = stark.getSelectorFromName('balanceOf')\nconst selector_allowance = stark.getSelectorFromName('allowance')\nconst selector_decimals = stark.getSelectorFromName('decimals')\n\nconst SECS_TO_REFRESH_POOL_DATA = 60\n\nexport const WALLET_SUFFICIENT_BALANCE = {\n    FALSE: 0,\n    TRUE: 1,\n    UNKNOWN: 2\n}\n\nconst is_dev = () : boolean => {\n    //return (process.env.NODE_ENV) === 'development'\n    return false\n}\n\n\nexport const numFormat = (num: string, isPercent = false): string => {\n    if (num === undefined || num === '' ) return ''\n\n    if (isPercent) {\n        let res = BigNumber(num).shiftedBy(2).sd(4, BigNumber.ROUND_DOWN).toPrecision(4)\n        if (BigNumber(res).lt(0.01)) return '<0.01'\n        return res\n    }\n\n    if (BigNumber(num).lt(1)) {\n        // BigNumber(0.012340000).sd(2).toString(10) --> '0.012'\n        let res = BigNumber(num).sd(6).toFixed(18, BigNumber.ROUND_DOWN)    // FIXME: need to align to token decimals (not 18).... 6 is a magic number...\n        // patch:\n        return BigNumber(res).toString(10)\n    }\n    return BigNumber(num).toFixed(2)\n}\n\n\nexport const tokenAllowanceForAMM = (token: string) => {\n    let ret = null\n    if (token) {\n        let tokensUserData = getRecoil(tokensUserDataState)\n        let tud = tokensUserData.get(token)\n        if (tud) {\n            ret = tud.userApproved\n            // console.log('tokenAllowanceForAMM tud.userApproved = ', tud.userApproved)\n        }\n    }\n    return ret\n}\n\nexport const isTokenApproved = (token: string, amount: string): boolean => {\n    try {\n        let tokenAllowance = tokenAllowanceForAMM(token)    // should return a string\n        if (\n            tokenAllowance &&\n            BigNumber(tokenAllowance).gte(BigNumber(float_to_decimal_int(token, amount)))\n        ) {\n            return true\n        }\n    } catch (e) {}\n    return false\n}\n\n\nexport const checkAndUpdateComponentTransactions = (\n    transactionsStatus: Array<Transaction>,\n    componentTxs: Record<string, string>,\n    setTransactionInProgress: (b: boolean) => any\n) => {\n    console.log('Entered checkAndUpdateComponentTransactions...')\n    if (transactionsStatus) {\n        transactionsStatus.forEach((tx) => {\n            console.log('checkAndUpdateComponentTransactions: ', tx.status, tx.hash, typeof(tx.hash), componentTxs, componentTxs.hasOwnProperty(tx.hash))\n\n            // check if transaction was already handled\n            if (componentTxs.hasOwnProperty(tx.hash)) {\n                console.log('componentTxs has hash ', tx.hash)\n                if (\n                    ['REJECTED', /*'PENDING',*/ 'ACCEPTED'].some((s) => tx.status.includes(s))\n                ) {\n                    console.log('Setting transaction in progress to false')\n                    setTransactionInProgress(false)\n                    delete componentTxs[tx.hash]\n                }\n            }\n        })\n    }\n}\n\n\nexport const getPoolPriceForTokenA = (poolId: number, token_in: string, token_out: string, otherAmount='1'): string => {\n    let pools = getRecoil(poolsState)\n    let pool = pools.get(poolId)\n    let ratio = BigNumber(1.0)\n\n    if (pool) {\n\n        if (pool.token1 === token_in) {\n            ratio = BigNumber(decimal_int_to_float(token_out, pool.token2Amount)).times(BigNumber(otherAmount)).div(\n                BigNumber(decimal_int_to_float(token_in, pool.token1Amount))\n            )\n        } else {\n            ratio = BigNumber(decimal_int_to_float(token_out, pool.token1Amount)).times(BigNumber(otherAmount)).div(\n                BigNumber(decimal_int_to_float(token_in, pool.token2Amount))\n            )\n        }\n    }\n    //console.log('Ratio', ratio.toString(10))\n    return ratio.toString(10)\n}\n\n\nexport const getWalletTokenAmount = (token: string) : string => {\n    if (is_dev()) console.log('amm: getWalletTokemAmount, token=',token)\n\n    let activeAccount: string = walletAddress()\n    let tokensUserData = getRecoil(tokensUserDataState)\n    let tud = tokensUserData.get(token)     // expecting that tud values will be strings\n\n    if (!activeAccount || !token || !tud || tud.userBalance === undefined) return ''\n\n    return decimal_int_to_float(token, tud.userBalance)\n}\n\n\nexport const isSufficientBalanceInWallet = (token: string, amount: string) => {\n\n    if (is_dev()) console.log('amm: isSufficientBalanceInWallet, token=',token,' amount=',amount)\n\n\n    let activeAccount: string = walletAddress()\n    let tokensUserData = getRecoil(tokensUserDataState)\n    let tud = tokensUserData.get(token)\n\n    if (!activeAccount) return WALLET_SUFFICIENT_BALANCE.UNKNOWN\n    if (!token) return WALLET_SUFFICIENT_BALANCE.UNKNOWN\n    if (!amount) return WALLET_SUFFICIENT_BALANCE.TRUE\n    if (!tud) return WALLET_SUFFICIENT_BALANCE.UNKNOWN\n    if (tud.userBalance === undefined) return WALLET_SUFFICIENT_BALANCE.UNKNOWN\n\n    // The actual check:\n    let tokenWalletAmount = decimal_int_to_float(token, tud.userBalance)\n\n    if (\n        BigNumber(amount).isPositive() &&\n        BigNumber(amount).lte(BigNumber(tokenWalletAmount))\n    )\n        return WALLET_SUFFICIENT_BALANCE.TRUE\n\n    return WALLET_SUFFICIENT_BALANCE.FALSE\n}\n\nexport const isInsufficientBalanceInPool = (\n    poolId: number,\n    token: string,\n    floatAmount: string\n) : boolean => {\n\n    if (is_dev()) console.log('amm: isInsufficientBalanceInPool, pool=',poolId,' token=',token,' amount=',floatAmount)\n\n    if (!token || poolId <= 0) return false\n\n    let pools = getRecoil(poolsState)\n    let pool: Pool | undefined = pools.get(poolId)\n    if (!pool) throw Error('missing pool ' + poolId)\n\n    let decimalAmount = float_to_decimal_int(token, floatAmount)\n\n    if (pool.token1 === token) {\n        return BigNumber(decimalAmount).gt(BigNumber(pool.token1Amount))\n    } else {\n        return BigNumber(decimalAmount).gt(BigNumber(pool.token2Amount))\n    }\n}\n\nexport const addToastMsg = (msg: string, type: string) => {\n    let t: ToastMsg = { msg: msg, type: type, dismiss: false, hash: BigNumber.random(10).times(1e10).toString(16) }\n    setRecoil(toastsState, (current: Array<ToastMsg>) => {\n        return [...current, t]\n    })\n}\n\nconst walletAddress = () => {\n    return getRecoil(walletAddressState)\n}\n\nexport const updatePoolsAndTokens = async (alsoUpdateTokens: boolean): Promise<any> => {\n    console.log('updatePoolsAndTokens')\n    if (is_dev()) addToastMsg('updatePoolsAndTokens, tokens='+alsoUpdateTokens, 'info')\n\n    const starknet = getStarknet()\n\n    let r = await starknet.provider.callContract({\n        contract_address: amm_contract,\n        entry_point_selector: selector_get_total_number_of_pools,\n        calldata: []\n    })\n\n    let numPools = Number(r.result[0])\n    let pools = getRecoil(poolsState)\n    let tokens = getRecoil(tokensState)\n    let new_pools = new Map<number, Pool>()\n    let new_tokens = new Map(tokens)\n\n    for (let i = 1; i <= numPools; i++) {\n        let currentPool = pools.get(i)\n        if (\n            currentPool &&\n            currentPool.refresh > Date.now() - SECS_TO_REFRESH_POOL_DATA * 1000\n        ) {\n            new_pools.set(i, currentPool)\n            continue // don't refresh\n        }\n        if (currentPool) {\n            console.log('will fetch pool data for pool ',i,' seconds passed=',(Date.now()-currentPool.refresh)/1000)\n        } else {\n            console.log('will fetch pool data id=',i,' since pool is null!')\n        }\n        let data = await starknet.provider.callContract({\n            contract_address: amm_contract,\n            entry_point_selector: selector_get_pool,\n            calldata: [i.toString()]\n        })\n\n        let shares = await starknet.provider.callContract({\n            contract_address: amm_contract,\n            entry_point_selector: selector_get_total_shares,\n            calldata: [i.toString()]\n        })\n\n        console.log(data)\n        let pool: Pool = {\n            id: i,\n            name: hex_to_ascii(data.result[0]),\n            token1: data.result[1],\n            token1Amount: composeUInt256(data.result[2], data.result[3]),\n            token2: data.result[4],\n            token2Amount: composeUInt256(data.result[5], data.result[6]),\n            fee: Number(data.result[7]) / 1e5,\n            cfmm: Number(data.result[8]),\n            shares: composeUInt256(shares.result[0], shares.result[1]),\n            refresh: Date.now()\n        }\n        new_pools.set(i, pool)\n\n        if (alsoUpdateTokens) {\n            if (!new_tokens.get(pool.token1)) {\n                let n = new_tokens.size\n                console.log('new token1 n=', n)\n                let t: Token = {\n                    address: pool.token1,\n                    id: n,\n                    name: '',\n                    symbol: '',\n                    icon: 'https://github.com/myswapxyz/static_data/raw/master/icons8-exchange-96.png',\n                    decimals: 0\n                }\n                new_tokens.set(pool.token1, t)\n            }\n            if (!new_tokens.get(pool.token2)) {\n                let n = new_tokens.size\n                console.log('new token2 n=', n)\n                let t: Token = {\n                    address: pool.token2,\n                    id: n,\n                    name: '',\n                    symbol: '',\n                    icon: 'https://github.com/myswapxyz/static_data/raw/master/icons8-exchange-96.png',\n                    decimals: 0\n                }\n                new_tokens.set(pool.token2, t)\n            }\n        }\n    }\n\n    // fetch token names and precision\n    if (alsoUpdateTokens) {\n        let promises: Array<Promise<any>> = []\n        new_tokens.forEach((value: Token, address: string) => {\n            let p = starknet.provider\n                .callContract({\n                    contract_address: address,\n                    entry_point_selector: selector_name,\n                    calldata: []\n                })\n                .then((data: any) => {\n                    const name = hex_to_ascii(data.result[0])\n                    console.log('name=', name)\n                    value.name = name\n                })\n            promises.push(p)\n            let p1 = starknet.provider\n                .callContract({\n                    contract_address: address,\n                    entry_point_selector: selector_symbol,\n                    calldata: []\n                })\n                .then((data: any) => {\n                    const name = hex_to_ascii(data.result[0])\n                    console.log('symbol=', name)\n                    value.symbol = name\n                })\n            promises.push(p1)\n\n            let p2 = starknet.provider\n                .callContract({\n                    contract_address: address,\n                    entry_point_selector: selector_decimals,\n                    calldata: []\n                })\n                .then((data: any) => {\n                    const decimals = Number(data.result[0])\n                    value.decimals = decimals\n                })\n            promises.push(p2)\n        })\n        await Promise.allSettled(promises)\n\n        // update tokens in recoil (before pools!)\n        setRecoil(tokensState, new_tokens)\n        console.log('tokens=', new_tokens)\n    }\n\n    // update pools in recoil\n    setRecoil(poolsState, new_pools)\n}\n\nexport const updateAllTokensDynamicData = async (): Promise<any> => {\n    let tokens = getRecoil(tokensState)\n    tokens.forEach((_, token) => {\n        console.log('updateAllTokensDynamicData: token=', token)\n        updateTokenDynamicData(token)\n    })\n}\n\nexport const updatePoolData = async(i: number) : Promise<boolean> => {\n    let pools = getRecoil(poolsState)\n    let currentPool = pools.get(i)\n    let now = Date.now()\n    if (\n        currentPool &&\n        currentPool.refresh > now - SECS_TO_REFRESH_POOL_DATA * 1000\n    ) {\n        console.log('not updating pool ',i,' , not enough time since last update')\n        return false\n    }\n\n    const starknet = getStarknet()\n\n    let data = await starknet.provider.callContract({\n        contract_address: amm_contract,\n        entry_point_selector: selector_get_pool,\n        calldata: [i.toString()]\n    })\n\n    let shares = await starknet.provider.callContract({\n        contract_address: amm_contract,\n        entry_point_selector: selector_get_total_shares,\n        calldata: [i.toString()]\n    })\n\n    let pool: Pool = {\n        id: i,\n        name: hex_to_ascii(data.result[0]),\n        token1: data.result[1],\n        token1Amount: composeUInt256(data.result[2], data.result[3]),\n        token2: data.result[4],\n        token2Amount: composeUInt256(data.result[5], data.result[6]),\n        fee: Number(data.result[7]) / 1e5,\n        cfmm: Number(data.result[8]),\n        shares: composeUInt256(shares.result[0], shares.result[1]),\n        refresh: now\n    }\n    setRecoil(poolsState, (curVal: Map<number, Pool>)=>{\n        let p = new Map(curVal)\n        p.set(i, pool)\n        return p\n    })    \n    console.log('updated pool ',i)\n    return true\n}\n\nexport const updatePoolDynamicData = async (poolId: number): Promise<any> => {\n\n    if (is_dev()) addToastMsg('updatePoolDynamicData, pool='+poolId, 'info')\n\n    let b = updatePoolData(poolId)\n    if (!b) return\n\n    let activeAccount: string = walletAddress()\n    \n    if (!activeAccount) {\n        return null\n    }\n    \n    let pools = getRecoil(poolsState)\n    let tokens = getRecoil(tokensState)    \n\n    const starknet = getStarknet()\n\n    // checks that enable succeeded\n    if (starknet.isConnected === false) throw Error('starknet wallet not connected')\n\n    let pool: Pool | undefined = pools.get(poolId)\n    if (!pool) throw Error('unknown pool ' + poolId)\n\n    let token1: Token | undefined = tokens.get(pool.token1)\n    let token2: Token | undefined = tokens.get(pool.token2)\n    if (!token1) throw Error('missing token ' + pool.token1)\n    if (!token2) throw Error('missing token ' + pool.token2)\n\n    // so far everything must have been stored in recoil\n    // now we update dynamic data: per token in pool\n    updateTokenDynamicData(pool.token1)\n    updateTokenDynamicData(pool.token2)\n}\n\nexport const updateTokenDynamicData = async (token_address: string): Promise<any> => {\n    if (!token_address) return null\n    if (is_dev()) addToastMsg('updateTokenDynamicData, token='+token_address, 'info')\n\n    const starknet = getStarknet()\n    let promises: Array<Promise<any>> = []\n    let activeAccount: string = walletAddress()\n\n    if (!activeAccount) {\n        return null\n    }\n\n    let tokensDynamic = getRecoil(tokensUserDataState)\n    let current_token = tokensDynamic.get(token_address)\n    if (current_token) {\n        const t_thresh = Date.now() - SECS_TO_REFRESH_POOL_DATA * 1000\n        if (current_token.refresh > t_thresh) {\n            console.log('not enough time passed, not updating tud')\n            return null\n        }\n    } else {\n        // new token - first store an empty shell in Recoil, then the async requests will update it\n        setRecoil(tokensUserDataState, (currentTud: Map<string, TokenUserData>) => {\n            let newMap = new Map(currentTud)\n            if (!newMap.get(token_address)) {\n                let tud: TokenUserData = {\n                    address: token_address,\n                    refresh: Date.now(),\n                    ammBalance: undefined,\n                    userBalance: undefined,\n                    userApproved: undefined\n                }\n                newMap.set(token_address, tud)\n            } \n            return newMap\n        })\n    }\n    console.log('updating tud, ',token_address)\n    let p1 = starknet.provider\n        .callContract({\n            contract_address: token_address,\n            entry_point_selector: selector_balanceOf,\n            calldata: [amm_contract_decimal]\n        })\n        .then((data: any) => {\n            const balance = composeUInt256(data.result[0], data.result[1])\n            // update balance directly in recoil\n            setRecoil(tokensUserDataState, (currentTud: Map<string, TokenUserData>) => {\n                let newMap = new Map(currentTud)\n                let tud = newMap.get(token_address)\n                if (tud) {\n                    tud.ammBalance = balance\n                    tud.refresh = Date.now()\n                    newMap.set(tud.address, tud)\n                }\n                return newMap\n            })\n\n        })\n    promises.push(p1)\n\n    let p2 = starknet.provider\n        .callContract({\n            contract_address: token_address,\n            entry_point_selector: selector_balanceOf,\n            calldata: [numberToCallParam(activeAccount)]\n        })\n        .then((data: any) => {\n            // update balance directly in recoil\n            const balance = composeUInt256(data.result[0], data.result[1])\n            setRecoil(tokensUserDataState, (currentTud: Map<string, TokenUserData>) => {\n                let newMap = new Map(currentTud)\n                let tud = newMap.get(token_address)\n                if (tud) {\n                    tud.userBalance = balance\n                    tud.refresh = Date.now()\n                    newMap.set(tud.address, tud)\n                }\n                return newMap\n            })\n        })\n    promises.push(p2)\n\n    let p3 = starknet.provider\n        .callContract({\n            contract_address: token_address,\n            entry_point_selector: selector_allowance,\n            calldata: [numberToCallParam(activeAccount), numberToCallParam(amm_contract)]\n        })\n        .then((data: any) => {\n            const balance = composeUInt256(data.result[0], data.result[1])\n            setRecoil(tokensUserDataState, (currentTud: Map<string, TokenUserData>) => {\n                let newMap = new Map(currentTud)\n                let tud = newMap.get(token_address)\n                if (tud) {\n                    tud.userApproved = balance\n                    tud.refresh = Date.now()\n                    newMap.set(tud.address, tud)\n                }\n                return newMap\n            })\n        })\n    promises.push(p3)\n\n    await Promise.allSettled(promises)\n}\n\nfunction addPendingTx(hash: string, type: string) {\n    // fixme: use 'type' as enum and not freestyle strings\n    let tx: Transaction = {\n        hash: hash,\n        type: type,\n        status: 'new',\n        dismiss: false\n    }\n    setRecoil(pendingTxsState, (current: Array<Transaction>) => {\n        return [...current, tx]\n    })\n}\n\nexport const approve = async (tokenFrom: string, amount: string): Promise<any> => {\n    console.log('Entered approve')\n\n    const starknet = getStarknet()\n    let activeAccount: string = walletAddress()\n\n    if (!activeAccount) {\n        return null\n    }\n\n    if (starknet.isConnected === false) throw Error('starknet wallet not connected')\n\n    if (!safeToSend()) return null\n\n    let tx = await starknet.signer.invokeFunction(\n        tokenFrom, // to (ERC-20 contract)\n        approveSelector, // selector (approve)\n        [numberToCallParam(amm_contract), numberToCallParam(amount), numberToCallParam(0)]\n    )\n\n    console.log('Adding transaction - approve')\n    addPendingTx(tx.transaction_hash, 'approve')\n\n    return tx\n}\n\nexport const getAllowance = async (tokenFrom: string): Promise<any> => {\n    console.log('getAllowance')\n    const starknet = getStarknet()\n\n    let activeAccount: string = walletAddress()\n\n    if (!activeAccount) {\n        return null\n    }\n\n    // checks that enable succeeded\n    if (starknet.isConnected === false) throw Error('starknet wallet not connected')\n\n    return ERC20_allowance(tokenFrom, activeAccount, amm_contract)\n}\n\nexport const ERC20_balanceOf = async (token: string, account: string): Promise<any> => {\n    const starknet = getStarknet()\n    let activeAccount: string = walletAddress()\n\n    if (!activeAccount) {\n        return null\n    }\n\n    if (starknet.isConnected === false) throw Error('starknet wallet not connected')\n\n    let data = await starknet.provider.callContract({\n        contract_address: token,\n        entry_point_selector: selector_balanceOf,\n        calldata: [numberToCallParam(account)]\n    })\n\n    const balance = composeUInt256(data.result[0], data.result[1])\n\n    return balance\n}\n\nexport const ERC20_allowance = async (\n    token: string,\n    owner: string,\n    spender: string\n): Promise<any> => {\n    const starknet = getStarknet()\n\n    let activeAccount: string = walletAddress()\n\n    if (!activeAccount) {\n        return null\n    }\n    if (starknet.isConnected === false) throw Error('starknet wallet not connected')\n\n    let data = await starknet.provider.callContract({\n        contract_address: token,\n        entry_point_selector: selector_allowance,\n        calldata: [numberToCallParam(owner), numberToCallParam(spender)]\n    })\n\n    const balance = composeUInt256(data.result[0], data.result[1])\n    return balance\n}\n\nexport const ERC20_mint = async (token: string, amount: string): Promise<any> => {\n    const starknet = getStarknet()\n\n    let activeAccount: string = walletAddress()\n\n    if (!activeAccount) {\n        return null\n    }\n    if (starknet.isConnected === false) throw Error('starknet wallet not connected')\n\n    if (!safeToSend()) return null\n\n    let tx = await starknet.signer.invokeFunction(\n        token, // to (ERC-20 contract)\n        mintSelector, // selector (mint)\n        [\n            numberToCallParam(activeAccount),\n            numberToCallParam(amount),\n            numberToCallParam(0)\n        ]\n    )\n\n    addPendingTx(tx.transaction_hash, 'mint')\n\n    return tx\n}\n\nexport const swap = async (\n    poolId: number,\n    tokenFrom: string,\n    swapAmount: string,\n    minAmountOut: string\n): Promise<any> => {\n    console.log('swap')\n\n    const starknet = getStarknet()\n\n    let activeAccount: string = walletAddress()\n\n    if (!activeAccount) {\n        return null\n    }\n\n    if (starknet.isConnected === false) throw Error('starknet wallet not connected')\n\n    if (!safeToSend()) return null\n\n    let tx = await starknet.signer.invokeFunction(\n        amm_contract, // to\n        swapSelector, // selector (swap)\n        [\n            numberToCallParam(poolId),\n            numberToCallParam(tokenFrom),\n            numberToCallParam(swapAmount),\n            numberToCallParam(0),\n            numberToCallParam(minAmountOut),\n            numberToCallParam(0)\n        ]\n    )\n\n    addPendingTx(tx.transaction_hash, 'swap')\n    return tx\n}\n\nexport const getLPBalance = async (pool_id: number, address: string): Promise<any> => {\n    const starknet = getStarknet()\n\n    if (!address) {\n        return null\n    }\n    if (starknet.isConnected === false) throw Error('starknet wallet not connected')\n\n    let data = await starknet.provider.callContract({\n        contract_address: amm_contract,\n        entry_point_selector: getLPBalanceSelector,\n        calldata: [numberToCallParam(pool_id), numberToCallParam(address)]\n    })\n\n    const balance = composeUInt256(data.result[0], data.result[1])\n\n    return balance\n}\n\nexport const composeUInt256 = (low: string, high: string): string => {\n    return BigNumber(low).plus(BigNumber(high).times(BigNumber(2).pow(128))).toString(10)\n}\n\n// fixme: probably redundant, consider remove\nconst numberToCallParam = (n: number | string): string => {\n    return BigNumber(n).toString(10)\n    //not good: return number.toBN(n).toString()\n}\n\n// fixme substr is deprecated\nfunction hex_to_ascii(str1: string): string {\n    var hex = str1.substr(2).toString()\n    var str = ''\n    for (var n = 0; n < hex.length; n += 2) {\n        str += String.fromCharCode(parseInt(hex.substr(n, 2), 16))\n    }\n    return str\n}\n\nexport function human_readable_hash(hash: string): string {\n    if (hash.length <= 8) return hash\n    return hash.substr(0, 5) + '...' + hash.substr(-3)\n}\n\nexport const waitForTransaction = async (hash: string) => {\n    await getStarknet().provider.waitForTx(hash)\n}\n\nexport const getTransactionUpdate = async (hash: string): Promise<string | null> => {\n    let t = await getStarknet().provider.getTransactionStatus(hash)\n\n    // check if transaction status has changed and update Recoil\n    let pendingTxs = getRecoil(pendingTxsState)\n    if (\n        pendingTxs &&\n        pendingTxs.find((tx) => tx.hash === hash && tx.status !== t.tx_status)\n    ) {\n        console.log('getTransactionUpdate: ', t.tx_status, hash)\n        setRecoil(pendingTxsState, (currTxs: Array<Transaction>) => {\n            let r = new Array<Transaction>()\n            currTxs.forEach((tx) => {\n                console.log('Inside forEach: ', tx.hash, tx.status)\n                if (tx.hash === hash) {\n                    // dup and change\n                    let tx_: Transaction = Object.assign({}, tx)\n                    tx_.status = t.tx_status\n                    if (\n                        //tx_.status === 'PENDING' ||                        \n                        tx_.status === 'ACCEPTED_ON_L2' ||\n                        tx_.status === 'ACCEPTED_ON_L1' \n                    )\n                        tx_.dismiss = true\n                    \n                    // we can delete the transaction here if on L1...\n\n                    r.push(tx_)\n                } else {\n                    r.push(tx)\n                }\n            })\n            return r\n        })\n        return t.tx_status\n    }\n    return null\n}\n\nfunction sortTokens(token1: string, token2: string): string[] {\n    return BigNumber(token1).lt(BigNumber(token2)) ? [token1, token2] : [token2, token1]\n}\n\nexport const getPoolIdFromTokens = (token1: string, token2: string): number => {\n    // check that we know these tokens\n    let pools = getRecoil(poolsState)\n    let tokens = getRecoil(tokensState)\n    if (!tokens.get(token1) || !tokens.get(token2)) throw Error('Unknown tokens')\n\n    let [t1, t2] = sortTokens(token1, token2)\n    for (let id = 1; id <= pools.size; id++) {\n        let pool: Pool | undefined = pools.get(id)\n        if (!pool) throw Error('missing pool ' + id)\n        if (pool.token1 === t1 && pool.token2 === t2) return id\n    }\n    return 0\n}\n\nexport function float_to_decimal_int(token_address: string, amount: string): string {\n    let tokens = getRecoil(tokensState)\n    let token: Token | undefined = tokens.get(token_address)\n    if (token === undefined) {\n        // throw Error('undefined pool')\n        addToastMsg(\n            'float_to_decimal_int: Undefined pool for token ' +\n                token_address +\n                ', tokens size=' +\n                tokens.size +\n                ' amount=' +\n                amount,\n            'warning'\n        )\n        return '0'\n    }\n\n    return BigNumber(amount).shiftedBy(token.decimals).toFixed(0, BigNumber.ROUND_DOWN)\n}\n\nexport function decimal_int_to_float(token_address: string, amount: string): string {\n    let tokens = getRecoil(tokensState)\n    let token: Token | undefined = tokens.get(token_address)\n    if (token === undefined) {\n        //throw Error('undefined pool')\n        addToastMsg(\n            'decimal_int_to_float: Undefined pool for token ' +\n                token_address +\n                ', tokens size=' +\n                tokens.size +\n                ' amount=' +\n                amount,\n            'warning'\n        )\n        return '0'\n    }\n\n    return BigNumber(amount).shiftedBy(-token.decimals).toString(10)    // should have exactly 'decimals' floating point\n}\n\nexport const calcOtherTokenAmount = (\n    token_leading: string,\n    token_other: string,\n    token_leading_amount_float: string,\n    leading_token_number: number // either 1, or 2\n): string | undefined => {\n\n    let poolId = getPoolIdFromTokens(token_leading, token_other)\n    if (\n        poolId === 0 ||\n        token_leading_amount_float === undefined ||\n        token_leading_amount_float === null\n    )\n        return undefined\n\n    if (token_leading_amount_float === '')\n        return ''\n\n    let token_leading_amount = float_to_decimal_int(\n        token_leading,\n        token_leading_amount_float\n    )\n\n    let pools = getRecoil(poolsState)\n    let pool: Pool | undefined = pools.get(poolId)\n\n    if (pool === undefined) {\n        addToastMsg('Undefined pool id=' + poolId, 'warning')\n        return undefined\n    }\n\n    // check reserves\n    let token_leading_reserve = '0'\n    let token_other_reserve = '0'\n\n    if (pool.token1 === token_leading) {\n        token_leading_reserve = pool.token1Amount\n        token_other_reserve = pool.token2Amount\n    } else {\n        token_leading_reserve = pool.token2Amount\n        token_other_reserve = pool.token1Amount\n    }\n\n    if (BigNumber(token_leading_reserve).lte(0) || BigNumber(token_other_reserve).lte(0))\n        throw Error('token reserve cannot be 0')\n\n    if (leading_token_number === 1) {\n        let token_out_expected_amount =\n            BigNumber(token_other_reserve).times(BigNumber(token_leading_amount))\n            .div(\n                BigNumber(token_leading_reserve).plus(BigNumber(token_leading_amount))\n                )\n            .toFixed(0, BigNumber.ROUND_DOWN)\n\n        return decimal_int_to_float(token_other, token_out_expected_amount)\n    } else {\n        // leading token is 2, calc what should be the output in order to get\n        let token_in_calculated_amount =\n        BigNumber(token_other_reserve).times(BigNumber(token_leading_amount))\n        .div(\n            BigNumber(token_leading_reserve).minus(BigNumber(token_leading_amount))\n            )\n        .toFixed(0, BigNumber.ROUND_DOWN)\n\n        return decimal_int_to_float(token_other, token_in_calculated_amount)\n    }\n}\n\nexport const calcOtherTokenRequiredAmountForLiquidity = (\n    token_a: string,\n    token_b: string,\n    token_a_float: string\n): string | undefined => {\n    let poolId = getPoolIdFromTokens(token_a, token_b)\n    if (\n        poolId === 0 ||\n        token_a_float === undefined ||\n        token_a_float === null\n    )\n        return undefined\n\n    if (token_a_float === '') return ''\n\n    let token_a_amount = float_to_decimal_int(token_a, token_a_float)\n\n    let pools = getRecoil(poolsState)\n    let pool: Pool | undefined = pools.get(poolId)\n\n    if (pool === undefined) {\n        // throw Error('undefined pool')\n        addToastMsg('Undefined pool id=' + poolId, 'warning')\n        return undefined\n    }\n\n    let price = getPoolPriceForTokenA(poolId, token_a, token_b, token_a_amount)\n\n    console.log('Other Token Add Liquidity: ', price, token_a_amount)\n    //let token_b_amount = BigNumber(price).times(BigNumber(token_a_amount)).toFixed(0, BigNumber.ROUND_DOWN)\n    //return decimal_int_to_float(token_b, token_b_amount)\n\n\n    return decimal_int_to_float(token_b, price)\n}\n\nexport const add_liquidity = async (\n    token_a_address: string,\n    token_a_amount: string,\n    token_a_min_amount: string,\n    token_b_address: string,\n    token_b_amount: string,\n    token_b_min_amount: string\n) => {\n    console.log('AMM_add_liquidity: ', token_a_min_amount, numberToCallParam(token_a_min_amount))\n\n    const starknet = getStarknet()\n    let activeAccount: string = walletAddress()\n\n    if (starknet.isConnected === false || !activeAccount) {\n        // Need to convert to a toast\n        return null\n    }\n\n    if (!safeToSend()) return null\n\n    let tx = await starknet.signer.invokeFunction(\n        amm_contract, // to\n        addLiquiditySelector, // 'add_liquidity' selector\n        [\n            numberToCallParam(token_a_address),\n            numberToCallParam(token_a_amount),\n            numberToCallParam(0),\n            numberToCallParam(token_a_min_amount),\n            numberToCallParam(0),\n            numberToCallParam(token_b_address),\n            numberToCallParam(token_b_amount),\n            numberToCallParam(0),\n            numberToCallParam(token_b_min_amount),\n            numberToCallParam(0)\n        ]\n    )\n\n    console.log('add_liquidity: adding tx to pending transactions atom')\n    addPendingTx(tx.transaction_hash, 'add_liquidity')\n\n    return tx\n}\n\nexport const withdraw_liquidity = async (\n    pool_id: number,\n    shares: string,\n    token_a_min_amount: string,\n    token_b_min_amount: string\n) => {\n    console.log('withdraw_liquidity')\n\n    const starknet = getStarknet()\n    let activeAccount: string = walletAddress()\n\n    if (starknet.isConnected === false || !activeAccount) {\n        // Need to convert to a toast\n        return null\n    }\n\n    console.log(\n        'Calling Starknet: withdraw_liquidity with ',\n        pool_id,\n        shares,\n        token_a_min_amount,\n        token_b_min_amount\n    )\n\n    if (!safeToSend()) return null\n\n    let tx = await starknet.signer.invokeFunction(\n        amm_contract, // to\n        withdrawLiquiditySelector, // 'add_liquidity' selector\n        [\n            numberToCallParam(pool_id),\n            numberToCallParam(shares),\n            numberToCallParam(0),\n            numberToCallParam(token_a_min_amount),\n            numberToCallParam(0),\n            numberToCallParam(token_b_min_amount),\n            numberToCallParam(0)\n        ]\n    )\n\n    addPendingTx(tx.transaction_hash, 'withdraw_liquidity')\n\n    return tx\n}\n\nconst safeToSend = () : boolean => {\n    if (getRecoil(safeToSendTxSelector)) return true\n\n    addToastMsg('Previous Transaction still being processed by your wallet, try again later','error')\n    return false\n}","import { setRecoil } from 'recoil-nexus'\nimport { Pool, poolsState, Token, tokensState } from '../atoms'\nimport { composeUInt256 } from './amm'\n\n// Fixme: decide which server to go with\n//const SERVER_URL = \"http://localhost:7000\"\n//const SERVER_URL = \"https://mottyl.github.io/static_data/data/amm.json\"\nconst SERVER_URL = 'https://my-json-server.typicode.com/myswapxyz/static_data'\n\nexport const updatePoolsAndTokensStatic = async () => {\n    // Fetch AMM Info\n    const fetchAmmInfo = async () => {\n        const res = await fetch(`${SERVER_URL}/amminfo`)\n        const data = await res.json()\n        console.log('AMM info data:', data)\n    }\n\n    // Fetch Pools\n    const fetchPools = async () => {\n        const res = await fetch(`${SERVER_URL}/pools`)\n        const data = await res.json()\n        let new_pools = new Map<number, Pool>()\n        for (let i = 1; i <= data.numberOfPools; i++) {\n            let d = data[i]\n            let pool: Pool = {\n                id: i,\n                name: d.poolName,\n                token1: d.tokenAAddress,\n                token1Amount: composeUInt256(d.tokenAReserves[0], d.tokenAReserves[1]),\n                token2: d.tokenBAddress,\n                token2Amount: composeUInt256(d.tokenBReserves[0], d.tokenBReserves[1]),\n                fee: Number(d.feePercentage) / 1e5,\n                cfmm: Number(d.cfmm),\n                shares: composeUInt256(d.shares[0], d.shares[1]),\n                refresh: Date.now()\n            }\n            console.log('Pool = ', pool)\n            new_pools.set(i, pool)\n        }\n        // Save to Recoil\n        setRecoil(poolsState, new_pools)\n    }\n\n    // Fetch Tokens\n    const fetchTokens = async () => {\n        const res = await fetch(`${SERVER_URL}/tokens`)\n        const data = await res.json()\n\n        let new_tokens = new Map<string, Token>()\n        for (let i = 0; i < data.numberOfTokens; i++) {\n            let d = data[i]\n            let token: Token = {\n                address: d.tokenAddress,\n                id: i,\n                name: d.tokenName,\n                symbol: d.tokenSymbol,\n                icon: d.tokenIcon,\n                decimals: d.tokenDecimals\n            }\n\n            if (token.icon.includes(\"comp\")) {\n                token.icon = \"data:image/png;base64,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\"\n            }\n            if (token.icon.includes(\"eth\")) {\n                token.icon = \"data:image/png;base64,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\\n\"\n            }\n            if (token.icon.includes(\"usdc\")) {\n                token.icon = \"data:image/png;base64,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\\nvkaL00v7XaGLqg++cV1rTUkVI2LtG4wlDhB+KmfEtiGp4xLcQfHqmczi82Mo\\nEe04b1jwhumZnpdfXGcvnTJUuWgB3x8QPPVUh3gJddJu3um/5VT+k1l5jyoY\\nBxvlbQvS6anbMimCTx0zvPxBAa1h4/UGmgdzHNF06K3inf94j/EwkLH+QYcx\\nzIA6lgXvaMGx45euznVbQyKs+FLESUAMIMTzJifQyjuyvDYl4HbzZ7PPdlfS\\nm58VU5nXDAsnLfc1EPhG8JX7pnmpdMPc1B6Kw9Vf/eg4b6ZF3oxMNRcfe0jk\\n6mg+tO7WLN77+HhQwY/h/kD3aGUi1ooOt9Vd/3V4wpSbOIjAT0ANV/dFLTrZ\\nomYzZ9QgikZ4rAO++o5JjaRrZg+jvfl1VF3XfxwA0nH8RrD2t9NpWmYcR4ze\\nIoLHI389QBt2we39A4IeF+9fLLKz5uCrl7XUFJYxpor8ODfcH9Te3NHi8UB3\\nS82JxrDI0BP2qNGX40RQa12t955zhlPho+0V/NBhYwWi1CdvjR0PwoZA/958\\nue/3pNfk0nwKBpsxPk7IjXzjtyfpgZf2873Ed3/x8IOcsuu3lW64r3z/+u3M\\nAASeNzODo38DSLdylfryH0pik/nRPTgxB0EPforWc+VoJHgtxpqGoJHswtiw\\noDxg39E65QUaZt9/p46LpYljtPged5Cv95+i368+TG/zekfM0BtgaSB+gTHd\\nDXtfL/z65VVcweuPbHxesw8+/jwA7QLKCLXHd3wXmz51GgVEDcOuqpxA/RE0\\n77yZ7wZbWej3t5bxa22n+lnLu1+WUI0eO3jmy5tOaghvJ7EB3vuqlB5f9SN9\\nuK2MT5x2Y8PypYeJldvjyIPybSW78z974t+5gqsoAh+lB+c9QJueHs1GA/oR\\nbOP7VvTYy19cS6Gp09DLwfL/qZ/KYs0raCvdnb/x4WVcxjM0XN9r11c4pj/9\\neYCgwq9ctQWfb4hJSo+0BCXluDlSxFJQcYLfg05IkcOOMm/mdilLH/KfB2q3\\n1yM9V9O+149tfvIB5oDXGxx52nrog+VADQDJlBHqinZ9GxYWUBQQPXY+TgcV\\n+ir5WUnkooPkGFzKvfUDxwwDwJfNDq7PAzg7Sj++v3j7q3/jCty+x3lvZm8u\\n97cEBBd4SDAYv1RSeNTwaeMSsu76iGxhEZAXvxzHL0twUgARbcJcyqIXd/0s\\nMPNTG5063/XPac7W5urc165qLN6dx0yx4WHNy8z3O+RAPUAEhrnB3NlZX1Ff\\nd3TzW4MS0mIswQlZKg6HYDwkLtkitFn53gwiuL31Y3D8DxJudnW5n6i2+gPv\\nFG5ZvqyzvgTnvFl5dPerPJBkTJQHCqBBtIiIB3fg0PBhE4YnnLfkPy0hGTO4\\nzqAFTRYrewQfg3JX0Prw12wWT6unpJkEdxHthsiXJVR0ndztRbuqj7z/eEv5\\nD8XcCHdHkINffPS623OfXzgTA4AR6JBwQoghQiKGZqXGjVv0K1t45gJ+UjOe\\narAoJH5QxkBsIDZgBkZZv8WhQSmuKwwUi5tv9S2HN9fkbXi+uSq3lJugtCgu\\nOz24/iyAEmcKQgtvEENgf+AUGDZ04pWzQ2Myb7KEZkzmnyR44mOMJsr3Ji44\\nc5+FHF2utqK97fVH3q7a/8+t3AqFscaRMONQHLMO6I2b1tvLX1Gil+4BNQsP\\nMQSubFDYSFEpk1PD40dm2cNiM232IeMtAREJZAsOJ2uo9vsZVxt/AOhocXc3\\nVzsdpw45WmsPt/xUmNtYtreU+UBRc0JIe9aKMw8FIrzUzyYXXjCEGAObLAwC\\nD0FCHUlwuGgAZhJJbbKcQ0kkKIw2UfqsZpz5eIEI7dV4lhXhiVwSFDYrLu3m\\noeDCSGZDoCzt4uKSm2nPuCzCnjGDARDKGL55b6SioG/eG/7/t5+NBf4XfSLZ\\nSPKRQa0AAAAASUVORK5CYII=\"\n            }\n            if (token.icon.includes(\"generic\")) {\n                token.icon = \"data:image/png;base64,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\\n\"\n            }\n            new_tokens.set(d.tokenAddress, token)\n\n            console.log('Token = ', token)\n        }\n        setRecoil(tokensState, new_tokens)\n    }\n\n    fetchAmmInfo()\n    fetchPools()\n    fetchTokens()\n}\n","import { styled } from '@mui/material/styles'\n\nimport { Typography } from '@mui/material'\nimport LoadingButton from '@mui/lab/LoadingButton'\n\nexport const StyledLoadingButton = styled(LoadingButton)({\n    backgroundColor: '#1f2768',\n    marginBottom: 8,\n    justifyContent: 'center',\n    ':hover': {\n        backgroundColor: 'rgba(24, 29, 85, 0.8)',\n        color: 'white'\n    },\n    width: '100%',\n    '&:disabled': {\n        backgroundColor: '#181d55',\n        overflow: 'hidden',\n        color: 'rgba(255, 255, 255, 0.2)'\n    },\n    '&:error': {\n        color: 'rgba(255, 0, 0, 0.5)'\n    },\n    '&& .MuiLoadingButton-startIconLoadingStart': {\n        position: 'absolute'\n    }\n})\n\nexport const StyledButtonTypography = styled(Typography)({\n    fontSize: 20,\n    fontColor: 'rgba(240, 240, 240, 0.9)',\n    justifyContent: 'center',\n    marginTop: 5,\n    marginBottom: 5\n})\n","import React, { useState, useEffect } from 'react'\n\nimport PendingActionsIcon from '@mui/icons-material/PendingActions'\nimport {\n    approve,\n    isTokenApproved,\n    tokenAllowanceForAMM,\n    float_to_decimal_int,\n    addToastMsg,\n    checkAndUpdateComponentTransactions\n} from '../services/amm'\nimport { tokensState, walletAddressState, transactionsStatusSelector } from '../atoms'\nimport { useRecoilState } from 'recoil'\nimport { StyledLoadingButton, StyledButtonTypography } from './StyleCustomizations'\n\nconst DEFAULT_APPROVE_AMOUNT = BigInt(2 ** 127 - 1).toString()\n\nfunction Approve(props) {\n    const [tokens] = useRecoilState(tokensState)\n    const [connectedAddress] = useRecoilState(walletAddressState)\n    const [tokenApproveInProgress, setTokenApproveInProgress] = useState(false)\n    const [approveTxCompletedSuccessfully, setApproveTxCompletedSuccessfully] =\n        useState(0) // 0 = not started, 1 = InProgress, 2 = completed successfully\n    const [transactionsStatus] = useRecoilState(transactionsStatusSelector('approve'))\n    const [componentTxs, setComponentTxs] = useState({})\n\n    let token = props.token\n    let tokenAmount = props.tokenAmount\n    let activePoolId = props.activePoolId\n    let tokenInRange = props.tokenInRange\n\n    useEffect(() => {\n        checkAndUpdateComponentTransactions(\n            transactionsStatus,\n            componentTxs,\n            setTokenApproveInProgress\n        )\n    }, [transactionsStatus, componentTxs])\n\n    useEffect(() => {\n        if (tokenApproveInProgress === false && approveTxCompletedSuccessfully === 1) {\n            setApproveTxCompletedSuccessfully(2)\n            props.approveTxStatusUpdateCallback(true)\n        }\n    }, [tokenApproveInProgress, approveTxCompletedSuccessfully, props])\n\n    useEffect(() => {\n        setTokenApproveInProgress(false)\n        setApproveTxCompletedSuccessfully(false)\n    }, [props.token, props.activePoolId, props.tokenAmount])\n\n    const handleApproveToken = async () => {\n        setTokenApproveInProgress(true)\n        setApproveTxCompletedSuccessfully(1)\n        let approveAmount = DEFAULT_APPROVE_AMOUNT\n            ? DEFAULT_APPROVE_AMOUNT\n            : float_to_decimal_int(token, tokenAmount)\n        try {\n            let tx = await approve(token, approveAmount)\n\n            if (!tx) {\n                console.log('Approve Transaction returned = null')\n                throw Error('Cannot perform transaction')\n            }\n\n            setComponentTxs((prevState) => ({\n                ...prevState,\n                [tx.transaction_hash]: 'new'\n            }))\n        } catch (e) {\n            if (e.message !== 'Cannot perform transaction')\n                addToastMsg('Approve user abort', 'error')\n            setApproveTxCompletedSuccessfully(0)\n            setTokenApproveInProgress(false)\n        }\n    }\n\n    if (\n        connectedAddress &&\n        token &&\n        tokenAmount > 0 &&\n        activePoolId > 0 &&\n        tokenInRange &&\n        !isTokenApproved(token, tokenAmount) &&\n        approveTxCompletedSuccessfully !== 2\n    ) {\n        let tokenAllowance = tokenAllowanceForAMM(token)\n        let token_obj = tokens.get(token)\n        if (token_obj) {\n            return (\n                <StyledLoadingButton\n                    sx={{ mb: 1 }}\n                    fullWidth={true}\n                    loading={\n                        tokenApproveInProgress ||\n                        tokenAllowance === null ||\n                        tokenAllowance === undefined\n                            ? true\n                            : false\n                    }\n                    loadingPosition='start'\n                    startIcon={<PendingActionsIcon />}\n                    onClick={handleApproveToken}>\n                    <StyledButtonTypography>\n                        {tokenAllowance === null || tokenAllowance === undefined\n                            ? 'CHECKING ' + token_obj.symbol + ' ALLOWANCE'\n                            : tokenApproveInProgress\n                            ? 'APPROVING ' + token_obj.symbol\n                            : 'APPROVE ' + token_obj.symbol}\n                    </StyledButtonTypography>\n                </StyledLoadingButton>\n            )\n        }\n    }\n\n    return <div></div>\n}\n\nexport default Approve\n","import React from 'react'\n\nimport { Grid, Button, Typography } from '@mui/material'\n\nimport { numFormat } from '../services/amm'\n\nfunction Balance(props) {\n    let token = props.token\n    let showMaxButton = props.showMaxButton\n    let setMaxAmountHandler = props.setMaxAmountHandler\n    let walletAmount = props.amount\n\n    if (walletAmount === undefined || walletAmount === '') return <div></div>\n\n    return (\n        <div>\n            <Grid container>\n                <Typography fontSize={13} sx={{ ml: 2, mt: 0.5 }}>\n                    {'Balance: ' + numFormat(walletAmount)}\n                </Typography>\n                {showMaxButton && (\n                    <Button\n                        size='small'\n                        sx={{ minWidth: 0, ml: 0.05, mt: -0.05 }}\n                        onClick={() => setMaxAmountHandler(token, walletAmount)}>\n                        <Typography color='#4c68ee' fontSize={13}>\n                            max\n                        </Typography>\n                    </Button>\n                )}\n            </Grid>\n        </div>\n    )\n}\n\nexport default Balance\n","import React from 'react'\n\nimport {\n    FormControl,\n    InputLabel,\n    Select,\n    Typography,\n    Grid,\n    MenuItem\n} from '@mui/material'\n\nimport { getWalletTokenAmount } from '../services/amm'\n\nimport Balance from './Balance.js'\n\nfunction TokenSelector(props) {\n    let token = props.token\n    let tokenStr = props.tokenStr\n    let otherToken = props.otherToken\n    let tokens = props.tokens\n    let handleTokenSelect = props.handleTokenSelect\n    let showMaxButton = props.showMaxButton\n    let handleTokenAmountChange = props.handleTokenAmountChange\n\n    const menuItems = (otherSelectedToken) => {\n        let r = []\n        tokens.forEach((value, address) => {\n            if (otherSelectedToken !== address) {\n                r.push(\n                    <MenuItem key={address} value={address}>\n                        <Grid container direction='row'>\n                            <Grid sx={{ mr: 1, mb: 0 }}>\n                                <img src={value.icon} alt='' width='56' height='56' />\n                            </Grid>\n                            <Grid>\n                                <Typography\n                                    fontSize={32}\n                                    fontWeight='bold'\n                                    sx={{ mt: 1, mb: 0 }}>\n                                    {value.symbol}\n                                </Typography>\n                            </Grid>\n                        </Grid>\n                    </MenuItem>\n                )\n            }\n        })\n        return r\n    }\n\n    return (\n        <div>\n            <FormControl fullWidth>\n                <InputLabel\n                    id='token-label'\n                    shrink={false}\n                    sx={{ fontSize: 22, fontWeight: 'bold', mt: -0.5 }}>\n                    {token === '' && 'Select ' + tokenStr}\n                </InputLabel>\n                {token !== '' && (\n                    <Typography\n                        fontSize={12}\n                        sx={{ color: '#6f6e8f', ml: 9.7, mb: -3.5 }}>\n                        {tokenStr + ':'}\n                    </Typography>\n                )}\n                <Select\n                    labelId='token-label'\n                    id='token-select'\n                    value={token}\n                    label={tokenStr}\n                    onChange={handleTokenSelect}\n                    sx={{\n                        mt: 0,\n                        mb: -3,\n                        '&:hover': {\n                            '&& fieldset': {\n                                border: '0px solid green',\n                                color: 'white'\n                            }\n                        },\n                        '.MuiOutlinedInput-notchedOutline': {\n                            border: ' 0px'\n                        },\n                        '.MuiSelect-icon': {\n                            fill: '#d0d0d0',\n                            marginRight: '20px'\n                        }\n                    }}\n                    MenuProps={{\n                        fontSize: '16px',\n                        PaperProps: {\n                            sx: {\n                                border: '1px solid',\n                                borderColor: '#6f6e8f',\n                                '& .MuiMenuItem-root:hover': {\n                                    backgroundColor: '#0d0c1e'\n                                },\n                                '& .MuiMenu-list': {\n                                    backgroundColor: '#201e43'\n                                },\n                                '& img': {\n                                    width: '40px',\n                                    height: '40px',\n                                    margin: '8px',\n                                    mb: '-20px'\n                                },\n                                '& .MuiTypography-root': {\n                                    fontSize: 24\n                                },\n                                '& .Mui-focused .MuiOutlinedInput-notchedOutline': {\n                                    border: '0px'\n                                }\n                            }\n                        }\n                    }}>\n                    {menuItems(otherToken)}\n                </Select>\n            </FormControl>\n            <Balance\n                token={token}\n                amount={getWalletTokenAmount(token)}\n                showMaxButton={showMaxButton}\n                setMaxAmountHandler={handleTokenAmountChange}\n            />\n        </div>\n    )\n}\n\nexport default TokenSelector\n","import { getStarknet } from '@argent/get-starknet'\n\nimport { erc20TokenAddressByNetwork } from './token.service'\n\nexport const isWalletConnected = (): boolean => !!getStarknet()?.isConnected\n\nexport const connectWallet = async () => await getStarknet({ showModal: false }).enable()\n\nexport const walletAddress = async (): Promise<string | undefined> => {\n    try {\n        const [address] = await getStarknet().enable()\n        return address\n    } catch {}\n}\n\nexport const networkId = (): keyof typeof erc20TokenAddressByNetwork => {\n    try {\n        const baseUrl = getStarknet().provider.baseUrl\n        if (baseUrl.includes('alpha-mainnet.starknet.io')) {\n            return 'mainnet-alpha'\n        } else {\n            return 'goerli-alpha'\n        }\n    } catch {\n        return 'goerli-alpha'\n    }\n}\n\nexport const getExplorerUrlBase = (): string => {\n    if (networkId() === 'mainnet-alpha') {\n        return 'https://voyager.online'\n    } else {\n        return 'https://goerli.voyager.online'\n    }\n}\n\nexport const networkUrl = (): string | undefined => {\n    try {\n        return getStarknet().provider.baseUrl\n    } catch {}\n}\n\nexport const waitForTransaction = async (hash: string) =>\n    await getStarknet().provider.waitForTx(hash)\n\nexport const addWalletChangeListener = async (\n    handleEvent: (accounts: string[]) => void\n) => {\n    getStarknet().on('accountsChanged', handleEvent)\n}\n","export default __webpack_public_path__ + \"static/media/ArgentX-button-download.6da5f49c.svg\";","import * as React from 'react'\nimport Box from '@mui/material/Box'\nimport Typography from '@mui/material/Typography'\nimport Modal from '@mui/material/Modal'\nimport Link from '@mui/material/Link'\nimport Grid from '@mui/material/Grid'\n\nimport ArgentExtensionLink from '../images/assets/ArgentX-button-download.svg'\n\nconst style = {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    width: 750,\n    backgroundColor: 'rgba(13, 12, 31, 1)',\n    border: '1px solid rgba(255, 255, 255, 0.1)',\n    boxShadow: 40,\n    borderRadius: 2,\n    p: 4\n}\n\nexport default function WalletOptions(props) {\n    const [open, setOpen] = React.useState(true)\n\n    const handleClose = () => {\n        setOpen(false)\n        props.setOpenWalletOptions(false)\n    }\n\n    return (\n        <div>\n            <Modal\n                open={open}\n                onClose={handleClose}\n                aria-labelledby='modal-modal-title'\n                aria-describedby='modal-modal-description'>\n                <Box sx={style}>\n                    <Typography variant='h4' component='h2' sx={{ textAlign: 'center' }}>\n                        Wallet Was Not Detected\n                    </Typography>\n                    <Typography sx={{ mt: 4, mb: 2, fontSize: 18 }}>\n                        mySwap is an Automatic Market Maker (AMM) dApp that runs on top of\n                        Starknet - a validity roll-up of the Ethereum blockchain.\n                    </Typography>\n\n                    <Typography sx={{ fontSize: 18, mb: 3 }}>\n                        In Order to use mySwap and enjoy low fees, please download the\n                        ArgentX wallet extension from the Chrome Web Store.\n                    </Typography>\n                    <Grid container justifyContent='center'>\n                        <Link\n                            href='https://chrome.google.com/webstore/detail/argent-x-starknet-wallet/dlcobpjiigpikoobohmabehhmhfoodbb'\n                            target='_blank'>\n                            <img src={ArgentExtensionLink} alt='' />\n                        </Link>\n                    </Grid>\n                </Box>\n            </Modal>\n        </div>\n    )\n}\n","import ReactGA from 'react-ga'\n\nvar is_ga_initialized = false\n\nexport const GAinit = () => {\n    // Google Analytics Set Up\n    is_ga_initialized = true\n    const gaTrackingId = 'UA-215866683-1'\n    ReactGA.initialize(gaTrackingId)\n}\n\nexport const GApage = (page) => {\n    if (!is_ga_initialized) GAinit()\n    ReactGA.pageview(page)\n}\n\nexport const GAtrack = (cat, action, label) => {\n    if (!is_ga_initialized) GAinit()\n    ReactGA.event({\n        category: cat,\n        action: action,\n        label: label\n    })\n}\n\nexport const GAbutton = (label) => {\n    GAtrack('button', 'click', label)\n}\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/StarkNet Icon.90b145c2.png\";","import React, { useState, useEffect } from 'react'\n\nimport { walletAddressState } from '../atoms'\n\nimport { useRecoilState } from 'recoil'\n\nimport {\n    updateAllTokensDynamicData,\n    human_readable_hash,\n    addToastMsg\n} from '../services/amm'\nimport {\n    addWalletChangeListener,\n    connectWallet,\n    getExplorerUrlBase,\n    networkId,\n    walletAddress\n} from '../services/wallet.service'\n\nimport WalletOptions from './WalletOptions.js'\n\nimport { GAbutton } from '../services/ga.js'\n\nimport { Button, Typography, Grid, Select, MenuItem, FormControl } from '@mui/material'\n\nimport ArgentLogo from '../images/logo/Argent-x-logo.png'\nimport StarknetLogo from '../images/logo/StarkNet Icon.png'\nimport EthLogo from '../images/logo/eth@2x.png'\n\nfunction ConnectWallet(props) {\n    const [walletConnectionStatus, setWalletConnectionStatus] = useState(0)\n    const [voyagerBaseUrl, setVoyagerBaseUrl] = useState('')\n    const [networkName, setNetworkName] = useState('goerli-alpha')\n    const [changeListenerRegistered, setChangeListenerRegistered] = useState(false)\n    const [address, setAddress] = useRecoilState(walletAddressState)\n    const [openWalletOptions, setOpenWalletOptions] = useState(false)\n\n    const handleClick = async () => {\n        GAbutton('connect_wallet')\n\n        setWalletConnectionStatus(1)\n        try {\n            await connectWallet()\n        } catch {\n            // this means no argent wallet is available\n            //addToastMsg('Wallet not found', 'error')\n            setWalletConnectionStatus(0)\n            setOpenWalletOptions(true)\n            return\n        }\n        setAddress(await walletAddress())\n        setWalletConnectionStatus(2)\n\n        addToastMsg('Wallet connected', 'success')\n    }\n\n    useEffect(() => {\n        if (props.secondary) return\n\n        const handleWalletChange = async (accounts) => {\n            if (props.secondary) return\n            console.log('handleWalletChange: ', accounts)\n            setAddress(await walletAddress())\n            setVoyagerBaseUrl(getExplorerUrlBase())\n            setNetworkName(networkId())\n\n            updateAllTokensDynamicData()\n            addToastMsg('Wallet network/account change', 'success')\n        }\n\n        console.log('address has changed, ', address)\n        if (address) {\n            setWalletConnectionStatus(2)\n            updateAllTokensDynamicData()\n            setVoyagerBaseUrl(getExplorerUrlBase())\n            setNetworkName(networkId())\n            if (!props.secondary && !changeListenerRegistered) {\n                addWalletChangeListener(handleWalletChange)\n                setChangeListenerRegistered(true) // do this only once, otherwise for every change a new listener will be registered\n            }\n        }\n    }, [address, props.secondary, changeListenerRegistered, setAddress])\n\n    // SECONDARY\n    // Handle wallet connect button inside the screen (aka secondary)\n    if (props.secondary) {\n        // If already connected no need to display button\n        if (address !== '' || walletConnectionStatus === 2) {\n            return <div></div>\n        }\n\n        // Secondary connect button - short-circuit all hooks\n        let buttonText = 'Connect Wallet'\n        let buttonDisabled = false\n        if (walletConnectionStatus === 1) {\n            buttonText = 'Connecting...'\n            buttonDisabled = true\n        }\n\n        // Display button\n        return (\n            <div>\n                <Button\n                    fullWidth={true}\n                    variant='contained'\n                    disabled={buttonDisabled}\n                    onClick={handleClick}\n                    sx={{\n                        mb: 1,\n                        backgroundColor: '#1f2768',\n                        ':hover': {\n                            bgcolor: 'rgba(76, 104, 238, 0.2)',\n                            color: 'white'\n                        }\n                    }}>\n                    {/* <AccountBalanceWalletIcon fontSize='medium' sx={{ mr: 1 }} /> */}\n                    <Typography\n                        sx={{\n                            mt: 1,\n                            mb: 1,\n                            color: 'rgba(240, 240, 240, 0.9)',\n                            fontSize: 20\n                        }}>\n                        {buttonText}\n                    </Typography>\n                </Button>\n\n                {openWalletOptions && (\n                    <WalletOptions setOpenWalletOptions={setOpenWalletOptions} />\n                )}\n            </div>\n        )\n    }\n\n    const handleConnectedClick = async () => {\n        console.log('opening wallet')\n        window.open(voyagerBaseUrl + '/contract/' + address, '_blank')\n    }\n\n    const walletStatus = () => {\n        if (walletConnectionStatus === 2) {\n            //console.log('Wallet is connected!', address)\n            return (\n                <Grid item class='Frame-3'>\n                    <Button sx={{ maxHeight: 0 }} onClick={handleConnectedClick}>\n                        <Grid sx={{ ml: 1, mb: -0.8 }}>\n                            <img src={ArgentLogo} alt='' width='18' height='18' />\n                        </Grid>\n                        <Typography class='Connect-Wallet'>\n                            {human_readable_hash(address)}\n                        </Typography>\n                    </Button>\n                </Grid>\n            )\n        } else if (walletConnectionStatus === 1) {\n            //console.log('Wallet is being connected!', address)\n            return (\n                <Button color='inherit' variant='outlined' disabled>\n                    Connecting...\n                </Button>\n            )\n        } else {\n            return (\n                <Grid class='Frame-1' container justifyContent='flex-end'>\n                    <Button sx={{ maxHeight: 0 }} onClick={handleClick}>\n                        <Typography class='Connect-Wallet'>Connect Wallet</Typography>\n                    </Button>\n                </Grid>\n            )\n        }\n    }\n\n    // Main return\n    return (\n        <div>\n            <Grid container direction='row' spacing={2} alignItems='center'>\n                <Grid item>\n                    <FormControl class='Frame-2' fullWidth>\n                        <Select\n                            class='Connect-Wallet'\n                            variant='standard'\n                            disableUnderline={true}\n                            value={networkName}\n                            //onChange={handleChange}\n                            sx={{\n                                fontSize: 18,\n                                color: 'rgba(240, 240, 240, 0.7)',\n                                mt: 0,\n                                '.MuiSelect-icon': {\n                                    fill: 'rgba(240, 240, 240, 0.7)'\n                                }\n                            }}\n                            MenuProps={{\n                                sx: {\n                                    mt: 1,\n                                    '&& .MuiMenu-list': {\n                                        backgroundColor: '#302e54',\n                                        marginLeft: -2\n                                    }\n                                }\n                            }}>\n                            <MenuItem value={'goerli-alpha'}>\n                                {/* <CircleIcon\n                                        sx={{ mr: 1, ml: 1 }}\n                                        style={{ fill: 'lightgreen', fontSize: 10 }}\n                                    /> */}\n                                <Grid\n                                    container\n                                    direction='row'\n                                    justifyContent='center'\n                                    alignItems='center'>\n                                    <Grid item sx={{ mr: 1, mt: 1 }}>\n                                        <img\n                                            src={StarknetLogo}\n                                            alt=''\n                                            width='24'\n                                            height='24'\n                                        />\n                                    </Grid>\n\n                                    <Grid item sx={{ mr: 1, textAlign: 'center' }}>\n                                        <Typography\n                                            fontSize={18}\n                                            sx={{\n                                                color: 'rgba(240, 240, 240, 0.7)'\n                                            }}>\n                                            Starknet Goerli\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            </MenuItem>\n                            {/*fix onClick*/}\n                            <MenuItem\n                                class='Frame-2'\n                                disabled={true}\n                                // onMouseEnter={(e) => e.target.style.backgroundColor = '#201e43'}\n                                value={'mainnet-alpha'}>\n                                <Grid\n                                    container\n                                    direction='row'\n                                    justifyContent='center'\n                                    alignItems='center'>\n                                    <Grid item sx={{ mr: 1, ml: 1, mt: 1 }}>\n                                        <img\n                                            src={EthLogo}\n                                            alt=''\n                                            width='24'\n                                            height='24'\n                                        />\n                                    </Grid>\n\n                                    <Grid item sx={{ mr: 1 }}>\n                                        {/* UI Fixme: change the color once Mainnet is enabled */}\n                                        <Typography\n                                            fontSize={18}\n                                            sx={{\n                                                color: 'rgba(240, 240, 240, 0.3)'\n                                            }}>\n                                            Starknet Mainnet\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            </MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n\n                <Grid item>\n                    {/* Add Wallet Status button */}\n                    {walletStatus()}\n                </Grid>\n            </Grid>\n\n            {openWalletOptions && (\n                <WalletOptions setOpenWalletOptions={setOpenWalletOptions} />\n            )}\n        </div>\n    )\n}\n\nexport default ConnectWallet\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from 'react'\nimport { useRecoilState } from 'recoil'\nimport { getRecoil } from 'recoil-nexus'\nimport { BigNumber } from 'bignumber.js'\n\nimport {\n    FormControl,\n    TextField,\n    Grid,\n    Box,\n    Card,\n    CardActionArea,\n    Typography,\n    IconButton\n} from '@mui/material'\nimport SwapHorizIcon from '@mui/icons-material/SwapHoriz'\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet'\nimport SwitchIcon from '../images/icons/switch_arrows_60x60.png'\n\nimport {\n    tokensState,\n    swapSlippage,\n    walletAddressState,\n    transactionsStatusSelector,\n    tokensUserDataState,\n    poolsState\n} from '../atoms'\n\nimport {\n    updateTokenDynamicData,\n    updatePoolDynamicData,\n    swap,\n    numFormat,\n    addToastMsg,\n    isTokenApproved,\n    getPoolPriceForTokenA,\n    getPoolIdFromTokens,\n    calcOtherTokenAmount,\n    float_to_decimal_int,\n    isSufficientBalanceInWallet,\n    isInsufficientBalanceInPool,\n    checkAndUpdateComponentTransactions,\n    WALLET_SUFFICIENT_BALANCE\n} from '../services/amm'\n\nimport { useInterval } from 'usehooks-ts'\n\nimport Approve from './Approve.js'\nimport BoxHeader from './BoxHeader.js'\nimport TokenSelector from './TokenSelector.js'\nimport ConnectWallet from './ConnectWallet.js'\nimport { StyledLoadingButton, StyledButtonTypography } from './StyleCustomizations'\n\nimport { GApage, GAbutton } from '../services/ga.js'\n\nexport const DEFAULT_APPROVE_AMOUNT = Number.MAX_SAFE_INTEGER // Need to change it to: (2**127 - 1) -- given that 'toBN' supports...\n\nfunction Swap() {\n    const [activePoolId, setActivePoolId] = useState(0)\n    const [token1, setToken1] = useState('')\n    const [token1Amount, setToken1Amount] = useState('')\n    const [token2, setToken2] = useState('')\n    const [token2Amount, setToken2Amount] = useState('')\n    const [leadingToken, setLeadingToken] = useState(0) // 0 is no token, 1/2 is the last updated token\n    const [swapInProgress, setSwapInProgress] = useState(false)\n    const [tokens] = useRecoilState(tokensState)\n    const [tuds] = useRecoilState(tokensUserDataState)\n    const [pools] = useRecoilState(poolsState)\n    const [approveTxCompletedSuccessfully, setApproveTxCompletedSuccessfully] =\n        useState(false)\n\n    const [connectedAddress] = useRecoilState(walletAddressState)\n    const [transactionsStatus] = useRecoilState(transactionsStatusSelector('swap'))\n    const [componentTxs, setComponentTxs] = useState({})\n\n    useEffect(() => {\n        GApage('swap')\n    }, [])\n\n    useEffect(() => {\n        checkAndUpdateComponentTransactions(\n            transactionsStatus,\n            componentTxs,\n            setSwapInProgress\n        )\n    }, [transactionsStatus, componentTxs])\n\n    useEffect(() => {}, [tuds, pools])\n\n    const updateTokensIntervalCallback = async () => {\n        // Allow periodic update only if both tokens are selected\n        if (activePoolId > 0) {\n            updatePoolDynamicData(activePoolId)\n        } else {\n            if (token1) updateTokenDynamicData(token1)\n            if (token2) updateTokenDynamicData(token2)\n        }\n    }\n\n    // Timer to update active pool and tokens user data (allowance, amount)\n    useInterval(updateTokensIntervalCallback, 15000)\n\n    const handleToken1Select = (event) => {\n        let token_address = event.target.value\n        setToken1(token_address)\n        setApproveTxCompletedSuccessfully(false)\n        updateTokenDynamicData(token_address)\n\n        GAbutton('swap-token1')\n    }\n\n    const handleToken2Select = (event) => {\n        let token_address = event.target.value\n        setToken2(token_address)\n        setApproveTxCompletedSuccessfully(false)\n        updateTokenDynamicData(token_address)\n\n        GAbutton('swap-token2')\n    }\n\n    const handleTokenAmountChange = (token, amount) => {\n        // fixme: consider limit decimals input according to token decimals\n        const regex = /^(([0-9]+[.]?[0-9]*)|([.][0-9]+))$/\n\n        if (token === token1 && (amount === '' || regex.test(amount))) {\n            setToken1Amount(amount)\n            setLeadingToken(1)\n        }\n        if (token === token2 && (amount === '' || regex.test(amount))) {\n            setToken2Amount(amount)\n            setLeadingToken(2)\n        }\n    }\n\n    useEffect(() => {\n        if (token1 && token2) {\n            let poolId = getPoolIdFromTokens(token1, token2)\n            setActivePoolId(poolId)\n\n            // follow the leader\n            if (leadingToken <= 1) {\n                // cannot be 0, but just for safety\n                if (poolId > 0) {\n                    // calc token2 amount\n                    let amount = calcOtherTokenAmount(token1, token2, token1Amount, 1)\n                    console.log('calcOtherTokenAmount: (token1 leading) ', amount)\n                    if (amount !== undefined && amount !== token2Amount) {\n                        setToken2Amount(amount)\n                    }\n                } else {\n                    setToken2Amount(0)\n                }\n            } else {\n                if (poolId > 0) {\n                    // calc token2 amount\n                    let amount = calcOtherTokenAmount(token2, token1, token2Amount, 2)\n                    console.log('calcOtherTokenAmount: (token2 leading) ', amount)\n                    if (amount !== undefined && amount < 0) amount = 0\n                    else if (amount !== undefined && amount !== token1Amount) {\n                        setToken1Amount(amount)\n                    }\n                } else {\n                    setToken1Amount(0)\n                }\n            }\n        } else {\n            // follow the leader\n            if (leadingToken <= 1) {\n                // cannot be 0, but just for safety\n                setToken2Amount('')\n            } else {\n                setToken1Amount('')\n            }\n        }\n    }, [token1, token2, token1Amount, token2Amount, leadingToken, pools])\n\n    const calcToken2MinAmount = () => {\n        let slippage = parseFloat(getRecoil(swapSlippage)) / 100\n        return BigNumber(token2Amount).times(BigNumber(1).minus(BigNumber(slippage)))\n    }\n\n    const handleSwap = async () => {\n        setSwapInProgress(true)\n        GAbutton('swap')\n\n        let minAmountOut = calcToken2MinAmount()\n        try {\n            let tx = await swap(\n                activePoolId,\n                token1,\n                float_to_decimal_int(token1, token1Amount),\n                float_to_decimal_int(token2, minAmountOut)\n            )\n\n            if (!tx) throw Error('Cannot perform transaction')\n\n            setComponentTxs((prevState) => ({\n                ...prevState,\n                [tx.transaction_hash]: 'new'\n            }))\n        } catch (e) {\n            addToastMsg('Swap Request: User Aborted', 'error')\n            setSwapInProgress(false)\n        }\n    }\n\n    const swapButton = () => {\n        let token1SufficientBalance = isSufficientBalanceInWallet(token1, token1Amount)\n        let token2InsufficientPoolBalance = isInsufficientBalanceInPool(\n            activePoolId,\n            token2,\n            token2Amount\n        )\n\n        if (\n            token2 &&\n            token1Amount > 0 &&\n            activePoolId !== 0 &&\n            token1SufficientBalance === WALLET_SUFFICIENT_BALANCE.TRUE &&\n            !token2InsufficientPoolBalance\n        ) {\n            // Display SWAP button\n            return (\n                <StyledLoadingButton\n                    fullWidth={true}\n                    disabled={\n                        (connectedAddress && isTokenApproved(token1, token1Amount)) ||\n                        swapInProgress ||\n                        approveTxCompletedSuccessfully\n                            ? false\n                            : true\n                    }\n                    loading={swapInProgress}\n                    loadingPosition='start'\n                    startIcon={<SwapHorizIcon fontSize='large' />}\n                    onClick={handleSwap}>\n                    <StyledButtonTypography>\n                        {swapInProgress ? 'SWAPPING' : 'SWAP'}\n                    </StyledButtonTypography>\n                </StyledLoadingButton>\n            )\n        }\n\n        if (\n            connectedAddress &&\n            token1Amount > 0 &&\n            token1SufficientBalance !== WALLET_SUFFICIENT_BALANCE.TRUE &&\n            !token2InsufficientPoolBalance\n        ) {\n            // Amount either exceeds wallet balance, or wallet balance is unknown yet\n            return (\n                <StyledLoadingButton\n                    fullWidth={true}\n                    disabled={true}\n                    loading={\n                        token1SufficientBalance === WALLET_SUFFICIENT_BALANCE.UNKNOWN\n                    }\n                    loadingPosition='start'\n                    startIcon={<AccountBalanceWalletIcon />}>\n                    <StyledButtonTypography>\n                        {token1SufficientBalance === WALLET_SUFFICIENT_BALANCE.FALSE\n                            ? 'AMOUNT EXCEEDS WALLET BALANCE'\n                            : 'CHECKING WALLET BALANCE'}\n                    </StyledButtonTypography>\n                </StyledLoadingButton>\n            )\n        }\n\n        if (token1 && token2 && activePoolId === 0) {\n            // No pool for token pair selected\n            return (\n                <StyledLoadingButton disabled={true}>\n                    <StyledButtonTypography>NOT A VALID Pool</StyledButtonTypography>\n                </StyledLoadingButton>\n            )\n        }\n\n        if (\n            token1 &&\n            token2 &&\n            activePoolId &&\n            token2Amount &&\n            token2InsufficientPoolBalance\n        ) {\n            return (\n                <StyledLoadingButton disabled={true}>\n                    <StyledButtonTypography>\n                        INSUFFICIENT LIQUIDITY IN POOL\n                    </StyledButtonTypography>\n                </StyledLoadingButton>\n            )\n        }\n\n        if (connectedAddress) {\n            // Wallet is connected\n            let instruction = ''\n            if (!token1 && !token2) instruction = 'SELECT TOKENS'\n            if ((!token1 && token2) || (token1 && !token2)) instruction = 'SELECT TOKEN'\n            if (token1 && token2 && (!token1Amount || !token2Amount))\n                instruction = 'ENTER AMOUNT'\n\n            if (instruction !== '')\n                return (\n                    <StyledLoadingButton disabled={true}>\n                        <StyledButtonTypography>{instruction}</StyledButtonTypography>\n                    </StyledLoadingButton>\n                )\n        }\n\n        return <div></div>\n    }\n\n    const switchTokensAndAmounts = () => {\n        GAbutton('swap-switchtokens')\n\n        let tmpToken = token1\n        let tmpAmount = token1Amount\n        setToken1(token2)\n        setToken2(tmpToken)\n        setToken1Amount(token2Amount)\n        setToken2Amount(tmpAmount)\n        setLeadingToken(leadingToken === 1 ? 2 : 1)\n        setApproveTxCompletedSuccessfully(false)\n    }\n\n    const isToken1InputDisabled = () => {\n        return token1 === '' ? true : false\n    }\n    const isToken2InputDisabled = () => {\n        return token2 === '' ? true : false\n    }\n\n    const [priceDirection, setPriceDirection] = useState(0)\n    const [slippage] = useRecoilState(swapSlippage)\n\n    const priceAndSlippage = () => {\n        if (\n            token1 &&\n            token2 &&\n            token1Amount &&\n            !BigNumber(token1Amount).isZero() &&\n            token2Amount &&\n            !BigNumber(token2Amount).isZero()\n        ) {\n            // currentPrice = How much token2 for 1 token1\n            let currentPrice = getPoolPriceForTokenA(activePoolId, token1, token2)\n            console.log('CurrentPrice: ', currentPrice)\n            let minAmount = calcToken2MinAmount()\n            let token1Symbol = tokens.get(token1).symbol\n            let token2Symbol = tokens.get(token2).symbol\n            let floatSlippage = parseFloat(slippage)\n            // transactionPrice = How much token2 for 1 token1\n            let transactionPrice = BigNumber(token2Amount).div(BigNumber(token1Amount))\n            let transactionPriceInv = BigNumber(token1Amount).div(BigNumber(token2Amount))\n\n            let priceImpact = BigNumber(1).minus(\n                BigNumber(transactionPrice).div(BigNumber(currentPrice))\n            )\n\n            let backgroundColor = priceImpact.gt(0.05)\n                ? 'rgba(229, 40, 28, 0.45)'\n                : priceImpact.gt(0.03)\n                ? 'rgba(255, 120, 31, 0.45)'\n                : '#201e43'\n\n            let textColor = priceImpact.gt(0.03)\n                ? '#rgba(240, 240, 240, 0.45)'\n                : '#6f6e8f'\n\n            let displayPrice1 = (\n                <>\n                    1 {token1Symbol} = {numFormat(transactionPrice)} {token2Symbol}\n                </>\n            )\n            let displayPrice2 = (\n                <>\n                    1 {token2Symbol} = {numFormat(transactionPriceInv)} {token1Symbol}\n                </>\n            )\n            //console.log('Price: ', displayPrice1, displayPrice2, priceDirection, transactionPrice.toString(10))\n\n            return (\n                <Grid>\n                    <Card\n                        sx={{\n                            p: 1,\n                            mb: 1,\n                            mt: 1,\n                            boxShadow: 2,\n                            backgroundColor: '#201e43'\n                        }}>\n                        <CardActionArea\n                            onClick={() => setPriceDirection(!priceDirection)}>\n                            <Typography\n                                fontSize={16}\n                                fontWeight='bold'\n                                sx={{ ml: 2, mr: 1 }}>\n                                {priceDirection ? displayPrice2 : displayPrice1}\n                            </Typography>\n                        </CardActionArea>\n                    </Card>\n\n                    <Card\n                        sx={{\n                            p: 1,\n                            mb: 1,\n                            mt: 1,\n                            boxShadow: 2,\n                            backgroundColor: backgroundColor\n                        }}>\n                        <Grid container>\n                            <Grid>\n                                <Typography\n                                    fontSize={16}\n                                    fontWeight='medium'\n                                    sx={{ ml: 2, mr: 1, color: textColor }}>\n                                    Minimum amount received (slippage=\n                                    {floatSlippage.toFixed(2)}\n                                    %):\n                                </Typography>\n                            </Grid>\n                            <Grid>\n                                <Typography fontWeight='bold'>\n                                    {numFormat(minAmount)}\n                                </Typography>\n                            </Grid>\n                        </Grid>\n\n                        <Grid container>\n                            <Grid>\n                                <Typography\n                                    fontSize={16}\n                                    fontWeight='medium'\n                                    sx={{ ml: 2, mr: 1, color: textColor }}>\n                                    Price impact:\n                                </Typography>\n                            </Grid>\n                            <Grid>\n                                <Typography fontWeight='bold'>\n                                    {numFormat(priceImpact, true)}%\n                                </Typography>\n                            </Grid>\n                        </Grid>\n                    </Card>\n                </Grid>\n            )\n        }\n        return <div></div>\n    }\n\n    return (\n        <div>\n            <Box\n                sx={{\n                    p: 3,\n                    border: '1px solid',\n                    borderColor: 'rgba(255, 255, 255, 0.27)',\n                    mt: 0,\n                    mb: 2,\n                    boxShadow: 40,\n                    borderRadius: 2,\n                    backgroundColor: '#0d0c1e'\n                }}>\n                <Grid container sx={{ mb: 2 }}>\n                    <BoxHeader name='Swap' />\n                </Grid>\n\n                <Card\n                    sx={{\n                        p: 2,\n                        pb: 3,\n                        pt: 3.5,\n                        boxShadow: 2,\n                        mb: -3,\n                        backgroundColor: '#201e43'\n                    }}>\n                    <Grid container spacing={2} sx={{}}>\n                        <Grid item xs={5}>\n                            <TokenSelector\n                                token={token1}\n                                tokenStr={'Token 1'}\n                                otherToken={token2}\n                                tokens={tokens}\n                                handleTokenSelect={handleToken1Select}\n                                showMaxButton={true}\n                                handleTokenAmountChange={handleTokenAmountChange}\n                            />\n                        </Grid>\n                        <Grid item xs={7}>\n                            <FormControl fullWidth>\n                                <TextField\n                                    helperText='Amount to swap'\n                                    id='token1-amount'\n                                    inputProps={{\n                                        placeholder: '0.00',\n                                        type: 'string',\n                                        autoComplete: 'off',\n                                        style: { fontSize: 24 },\n                                        'aria-labelledby': 'input-amount'\n                                    }}\n                                    sx={{\n                                        input: { background: '#0d0c1e', borderRadius: 1 },\n                                        '&:hover': {\n                                            '&& fieldset': {\n                                                border: '0px solid green',\n                                                color: 'white'\n                                            }\n                                        },\n                                        '.MuiOutlinedInput-notchedOutline': {\n                                            border: '0px'\n                                        }\n                                    }}\n                                    value={token1Amount ? token1Amount : ''}\n                                    onChange={(e) =>\n                                        handleTokenAmountChange(token1, e.target.value)\n                                    }\n                                    error={\n                                        isSufficientBalanceInWallet(\n                                            token1,\n                                            token1Amount\n                                        ) === WALLET_SUFFICIENT_BALANCE.FALSE\n                                            ? true\n                                            : false\n                                    }\n                                    disabled={isToken1InputDisabled()}\n                                />\n                            </FormControl>\n                        </Grid>\n                    </Grid>\n                </Card>\n\n                {/* The Switch Element */}\n                <Grid\n                    container\n                    direction='row'\n                    justifyContent='center'\n                    alignItems='center'>\n                    <IconButton\n                        size='small'\n                        disabled={!token1 && !token2}\n                        onClick={switchTokensAndAmounts}>\n                        <img src={SwitchIcon} alt='' width='50' height='50' />\n                    </IconButton>\n                </Grid>\n\n                <Card\n                    sx={{\n                        p: 2,\n                        pt: 3.5,\n                        pb: 3.5,\n                        mt: -3.5,\n                        boxShadow: 2,\n                        backgroundColor: '#201e43'\n                    }}>\n                    <Grid container spacing={2}>\n                        <Grid item xs={5}>\n                            <TokenSelector\n                                token={token2}\n                                tokenStr={'Token 2'}\n                                otherToken={token1}\n                                tokens={tokens}\n                                handleTokenSelect={handleToken2Select}\n                                showMaxButton={false}\n                                handleTokenAmountChange={handleTokenAmountChange}\n                            />\n                        </Grid>\n\n                        <Grid item xs={7}>\n                            <FormControl fullWidth>\n                                <TextField\n                                    helperText='Estimated amount received'\n                                    id='token2-amount'\n                                    inputProps={{\n                                        variant: 'outlined',\n                                        placeholder: '0.00',\n                                        type: 'string',\n                                        autoComplete: 'off',\n                                        style: { fontSize: 24 },\n                                        'aria-labelledby': 'input-amount'\n                                    }}\n                                    sx={{\n                                        input: { background: '#0d0c1e', borderRadius: 1 },\n                                        '&:hover': {\n                                            '&& fieldset': {\n                                                border: '0px solid green',\n                                                color: 'white'\n                                            }\n                                        },\n                                        '.MuiOutlinedInput-notchedOutline': {\n                                            border: '0px'\n                                        }\n                                    }}\n                                    value={token2Amount ? token2Amount : ''}\n                                    onChange={(e) =>\n                                        handleTokenAmountChange(token2, e.target.value)\n                                    }\n                                    disabled={isToken2InputDisabled()}\n                                />\n                            </FormControl>\n                        </Grid>\n                    </Grid>\n                </Card>\n\n                {priceAndSlippage()}\n\n                <Card\n                    sx={{ mb: -1, mt: 2, backgroundColor: 'transparent', boxShadow: 0 }}>\n                    <ConnectWallet secondary='true' />\n                    <Approve\n                        token={token1}\n                        tokenAmount={token1Amount}\n                        activePoolId={activePoolId}\n                        tokenInRange={\n                            isSufficientBalanceInWallet(token1, token1Amount) ===\n                            WALLET_SUFFICIENT_BALANCE.TRUE\n                        }\n                        approveTxStatusUpdateCallback={setApproveTxCompletedSuccessfully}\n                    />\n                    {swapButton()}\n                </Card>\n            </Box>\n        </div>\n    )\n}\n\nexport default Swap\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from 'react'\nimport { getRecoil } from 'recoil-nexus'\nimport { useRecoilState } from 'recoil'\nimport { BigNumber } from 'bignumber.js'\nimport BoxHeader from './BoxHeader.js'\nimport {\n    addToastMsg,\n    withdraw_liquidity,\n    numFormat,\n    float_to_decimal_int,\n    checkAndUpdateComponentTransactions\n} from '../services/amm'\nimport { withdrawLiquiditySlippage, transactionsStatusSelector } from '../atoms'\n\nimport {\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    Card,\n    Box,\n    Grid,\n    CardHeader,\n    Typography,\n    Slider,\n    Stack,\n    InputAdornment,\n    Paper\n} from '@mui/material'\nimport MuiInput from '@mui/material/Input'\nimport { styled } from '@mui/material/styles'\nimport { StyledLoadingButton, StyledButtonTypography } from './StyleCustomizations'\n\nconst Item = styled(Paper)(({ theme }) => ({\n    ...theme.typography.body2,\n    padding: theme.spacing(0),\n    textAlign: 'left',\n    color: theme.palette.text.secondary\n}))\n\nconst Input = styled(MuiInput)`\n    width: 42px;\n`\n\nexport default function RemoveLiquidity(props) {\n    const [open, setOpen] = useState(true)\n    const [percent, setPercent] = useState(25)\n    const [token1Amount, setToken1Amount] = useState('') // fixme: what happens if token1amount / pool share changes during op\n    const [token2Amount, setToken2Amount] = useState('')\n    const [removeLiquidityInProgress, setRemoveLiquidityInProgress] = useState(false)\n    const [transactionsStatus] = useRecoilState(\n        transactionsStatusSelector('withdraw_liquidity')\n    )\n    const [componentTxs, setComponentTxs] = useState({})\n\n    useEffect(() => {\n        checkAndUpdateComponentTransactions(\n            transactionsStatus,\n            componentTxs,\n            setRemoveLiquidityInProgress\n        )\n    }, [transactionsStatus, componentTxs])\n\n    const marks = [\n        { value: 0, label: '0%' },\n        { value: 25, label: '25%' },\n        { value: 50, label: '50%' },\n        { value: 75, label: '75%' },\n        { value: 100, label: '100%' }\n    ]\n\n    useEffect(() => {\n        // if one of the tokens is '0' then set the other one to zero as well\n        if (BigNumber(token1Amount).isZero()) setToken2Amount('0')\n        if (BigNumber(token2Amount).isZero()) setToken1Amount('0')\n\n        // fixme: not sure why can't I call setAmounts\n        setToken1Amount(\n            numFormat(BigNumber(props.token1Amount).times(percent).shiftedBy(-2))\n        )\n        setToken2Amount(\n            numFormat(BigNumber(props.token2Amount).times(percent).shiftedBy(-2))\n        )\n\n        setRemoveLiquidityInProgress(false)\n    }, [\n        open,\n        token1Amount,\n        token2Amount,\n        percent,\n        props.token1Amount,\n        props.token2Amount\n    ])\n\n    const handleClose = () => {\n        setRemoveLiquidityInProgress(false)\n        setOpen(false)\n        props.openRemoveLiquidity(false)\n    }\n\n    const setAmounts = (percent) => {\n        setToken1Amount(\n            numFormat(BigNumber(props.token1Amount).times(percent).shiftedBy(-2))\n        )\n        setToken2Amount(\n            numFormat(BigNumber(props.token2Amount).times(percent).shiftedBy(-2))\n        )\n    }\n\n    const updateState = (newPercent) => {\n        setPercent(newPercent)\n        setAmounts(newPercent)\n        console.log(\n            'Remove Liquidity, updateState: ',\n            token1Amount,\n            token2Amount,\n            props.token1Amount,\n            props.token2Amount\n        )\n    }\n\n    const handleSliderChange = (event, newPercent) => {\n        updateState(newPercent)\n    }\n\n    const handleInputChange = (event) => {\n        let newPercent = event.target.value === '' ? '' : Number(event.target.value)\n        updateState(newPercent)\n        console.log('handle input change')\n    }\n\n    const handleBlur = () => {\n        if (percent < 0) {\n            setPercent(0)\n        } else if (percent > 100) {\n            setPercent(100)\n        }\n    }\n\n    const handleWithdraw = async () => {\n        console.log('Withdraw percent: ', percent)\n        let slippage = parseFloat(getRecoil(withdrawLiquiditySlippage)) / 100\n        let sharesToWithdraw = BigNumber(props.balance)\n            .times(BigNumber(percent))\n            .shiftedBy(-2)\n            .toFixed(0, BigNumber.ROUND_DOWN)\n        let minToken1Amount = BigNumber(token1Amount)\n            .times(BigNumber(1).minus(BigNumber(slippage).shiftedBy(-2)))\n            .toString(10, BigNumber.ROUND_DOWN)\n        let minToken2Amount = BigNumber(token2Amount)\n            .times(BigNumber(1).minus(BigNumber(slippage).shiftedBy(-2)))\n            .toString(10, BigNumber.ROUND_DOWN)\n\n        console.log(\n            'handleWithdraw: ',\n            sharesToWithdraw,\n            minToken1Amount,\n            minToken2Amount\n        )\n\n        // Make sure we send amounts in the right order\n        if (props.token1 > props.token2) {\n            let tmp = minToken1Amount\n            minToken1Amount = minToken2Amount\n            minToken2Amount = tmp\n        }\n\n        setRemoveLiquidityInProgress(true)\n\n        try {\n            let tx = await withdraw_liquidity(\n                props.poolId,\n                sharesToWithdraw,\n                float_to_decimal_int(props.token1, minToken1Amount),\n                float_to_decimal_int(props.token2, minToken2Amount)\n            )\n\n            if (!tx) throw Error('Cannot perform transaction')\n\n            setComponentTxs((prevState) => ({\n                ...prevState,\n                [tx.transaction_hash]: 'new'\n            }))\n        } catch (e) {\n            addToastMsg('Remove Liquidity: User Aborted', 'error')\n            setRemoveLiquidityInProgress(false)\n        }\n        handleClose()\n    }\n\n    return (\n        <div>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                PaperProps={{ elevation: 0, style: { backgroundColor: 'transparent' } }}>\n                <Box\n                    sx={{\n                        p: 3,\n                        border: '1px solid',\n                        borderColor: 'rgba(255, 255, 255, 0.27)',\n                        boxShadow: 40,\n                        borderRadius: 2,\n                        overflow: 'hidden',\n                        backgroundColor: '#0d0c1e'\n                    }}>\n                    <Grid container sx={{ mb: 2 }}>\n                        <BoxHeader name='Remove Liquidity' />\n                    </Grid>\n\n                    <DialogContent sx={{ p: 0, mb: 0 }}>\n                        <Card\n                            sx={{\n                                p: 2,\n                                boxShadow: 2,\n                                mb: 1,\n                                backgroundColor: '#201e43'\n                            }}>\n                            <DialogContentText\n                                sx={{ fontSize: 18, fontWeight: 'bold', ml: 2 }}>\n                                Percent of liquidity shares to remove\n                            </DialogContentText>\n\n                            <Box sx={{ width: 500, mt: 3, ml: 2 }}>\n                                <Grid container spacing={2} alignItems='center'>\n                                    <Grid item xs sx={{ mt: 2, ml: 2, mr: 2 }}>\n                                        <Slider\n                                            aria-label='Custom marks'\n                                            defaultValue={25}\n                                            valueLabelDisplay='auto'\n                                            marks={marks}\n                                            value={\n                                                typeof percent === 'number' ? percent : 0\n                                            }\n                                            onChange={handleSliderChange}\n                                            aria-labelledby='input-slider'\n                                        />\n                                    </Grid>\n                                    <Grid item sx={{ ml: 2, mr: 2 }}>\n                                        <Box\n                                            sx={{\n                                                p: 1,\n                                                pr: 4,\n                                                borderColor: 'rgba(255, 255, 255, 0.27)',\n                                                boxShadow: 40,\n                                                borderRadius: 1,\n                                                backgroundColor: '#0d0c1e'\n                                            }}>\n                                            <Input\n                                                value={percent}\n                                                size='small'\n                                                onChange={handleInputChange}\n                                                onBlur={handleBlur}\n                                                sx={{ ml: 1 }}\n                                                style={{ fontSize: 20 }}\n                                                endAdornment={\n                                                    <InputAdornment\n                                                        position='end'\n                                                        sx={{\n                                                            mr: -3,\n                                                            mb: 0.25,\n                                                            color: 'rgba(200, 200, 200, 0.5)'\n                                                        }}>\n                                                        %\n                                                    </InputAdornment>\n                                                }\n                                                inputProps={{\n                                                    step: 1,\n                                                    min: 0,\n                                                    max: 100,\n                                                    type: 'number',\n                                                    'aria-labelledby': 'input-slider'\n                                                }}\n                                            />\n                                        </Box>\n                                    </Grid>\n                                </Grid>\n                            </Box>\n                        </Card>\n                        <Card\n                            sx={{\n                                p: 2,\n                                boxShadow: 2,\n                                mb: 0,\n                                backgroundColor: '#201e43'\n                            }}>\n                            <CardHeader\n                                title='Amount Received'\n                                disableTypography={true}\n                                sx={{\n                                    fontSize: 18,\n                                    fontWeight: 'bold',\n                                    mt: -2\n                                }}></CardHeader>\n                            <Grid\n                                item\n                                container\n                                alignItems='center'\n                                spacing={0}\n                                sx={{ pl: 2, pr: 2, ml: 0 }}>\n                                <Grid item xs={12}>\n                                    <Stack\n                                        direction='row'\n                                        spacing={0}\n                                        alignItems='center'\n                                        justifyContent='space-between'>\n                                        <Stack\n                                            direction='row'\n                                            spacing={0}\n                                            justifyContent='flex-start'\n                                            alignItems='center'>\n                                            <Item\n                                                sx={{ boxShadow: 0, mr: 1 }}\n                                                style={{\n                                                    backgroundColor: 'transparent'\n                                                }}>\n                                                <img\n                                                    src={props.token1Icon}\n                                                    alt=''\n                                                    width='48'\n                                                    height='48'\n                                                />\n                                            </Item>\n                                            <Item\n                                                sx={{ boxShadow: 0 }}\n                                                style={{\n                                                    backgroundColor: 'transparent'\n                                                }}>\n                                                <Typography\n                                                    sx={{\n                                                        fontSize: 20,\n                                                        fontWeight: 'bold',\n                                                        mb: 1\n                                                    }}>\n                                                    {props.token1Symbol}:\n                                                </Typography>\n                                            </Item>\n                                        </Stack>\n                                        <Item\n                                            sx={{ boxShadow: 0, mb: 1 }}\n                                            style={{ backgroundColor: 'transparent' }}>\n                                            <Typography sx={{ fontSize: 20 }}>\n                                                {numFormat(token1Amount)}\n                                            </Typography>\n                                        </Item>\n                                    </Stack>\n\n                                    <Stack\n                                        direction='row'\n                                        spacing={0}\n                                        alignItems='center'\n                                        justifyContent='space-between'>\n                                        <Stack\n                                            direction='row'\n                                            spacing={0}\n                                            justifyContent='flex-start'\n                                            alignItems='center'>\n                                            <Item\n                                                sx={{ boxShadow: 0, mr: 1 }}\n                                                style={{\n                                                    backgroundColor: 'transparent'\n                                                }}>\n                                                <img\n                                                    src={props.token2Icon}\n                                                    alt=''\n                                                    width='48'\n                                                    height='48'\n                                                />\n                                            </Item>\n                                            <Item\n                                                sx={{ boxShadow: 0 }}\n                                                style={{\n                                                    backgroundColor: 'transparent'\n                                                }}>\n                                                <Typography\n                                                    sx={{\n                                                        fontSize: 20,\n                                                        fontWeight: 'bold',\n                                                        mb: 1\n                                                    }}>\n                                                    {props.token2Symbol}:\n                                                </Typography>\n                                            </Item>\n                                        </Stack>\n                                        <Item\n                                            sx={{ boxShadow: 0, mb: 1 }}\n                                            style={{ backgroundColor: 'transparent' }}>\n                                            <Typography sx={{ fontSize: 20 }}>\n                                                {numFormat(token2Amount)}\n                                            </Typography>\n                                        </Item>\n                                    </Stack>\n                                </Grid>\n                            </Grid>\n                        </Card>\n                    </DialogContent>\n                    <DialogActions sx={{ justifyContent: 'center', mt: 1, mb: -2 }}>\n                        {/* <Button\n                            variant='contained'\n                            style={{ backgroundColor: 'gray' }}\n                            onClick={handleClose}>\n                            Cancel\n                        </Button> */}\n                        <StyledLoadingButton\n                            disabled={\n                                token1Amount === '0' ||\n                                token2Amount === '0' ||\n                                removeLiquidityInProgress\n                                    ? true\n                                    : false\n                            }\n                            loading={removeLiquidityInProgress === true}\n                            loadingPosition='start'\n                            sx={{ width: '50%', justifyContent: 'center' }}\n                            onClick={handleWithdraw}>\n                            <StyledButtonTypography>\n                                {removeLiquidityInProgress ? 'REMOVING' : 'REMOVE'}\n                            </StyledButtonTypography>\n                        </StyledLoadingButton>\n                    </DialogActions>\n                </Box>\n            </Dialog>\n        </div>\n    )\n}\n","import React, { useState } from 'react'\nimport { useRecoilState } from 'recoil'\nimport { BigNumber } from 'bignumber.js'\nimport {\n    Card,\n    Grid,\n    CardActions,\n    CardContent,\n    Typography,\n    Stack,\n    Paper,\n    Box,\n    Divider,\n    styled\n} from '@mui/material'\n\nimport { tokensState, poolsState } from '../atoms'\nimport { decimal_int_to_float, numFormat } from '../services/amm'\nimport RemoveLiquidity from './RemoveLiquidity'\nimport { StyledLoadingButton, StyledButtonTypography } from './StyleCustomizations'\n\nconst Item = styled(Paper)(({ theme }) => ({\n    ...theme.typography.body2,\n    padding: theme.spacing(0),\n    textAlign: 'left',\n    color: theme.palette.text.secondary\n}))\n\nfunction LiquidityPool(props) {\n    const [tokens] = useRecoilState(tokensState)\n    const [pools] = useRecoilState(poolsState)\n    const [openRemoveLiquidity, setOpenRemoveLiquidity] = useState(false)\n\n    let pool = pools.get(props.poolId)\n    if (!pool || !pool.shares) return <div></div>\n\n    const token1 = () => {\n        let pool = pools.get(props.poolId)\n        let token_address = pool.token1\n        let token = tokens.get(token_address)\n        return token\n    }\n\n    const token1Symbol = () => {\n        let token = token1(props.poolId)\n        return token.symbol\n    }\n\n    const token1Icon = () => {\n        let token = token1(props.poolId)\n        return token.icon\n    }\n\n    const userPoolShare = () => {\n        let pool = pools.get(props.poolId)\n        if (!pool.shares) return '0'\n        return BigNumber(props.balance).div(BigNumber(pool.shares))\n    }\n\n    const userToken1AmountDecimal = () => {\n        let pool = pools.get(props.poolId)\n        let user_share = userPoolShare()\n        return BigNumber(user_share).times(pool.token1Amount)\n    }\n\n    const userToken1Amount = () => {\n        return decimal_int_to_float(pool.token1, userToken1AmountDecimal())\n    }\n\n    const token2 = () => {\n        let pool = pools.get(props.poolId)\n        let token_address = pool.token2\n        let token = tokens.get(token_address)\n        return token\n    }\n\n    const token2Symbol = () => {\n        let token = token2(props.poolId)\n        return token.symbol\n    }\n\n    const token2Icon = () => {\n        let token = token2(props.poolId)\n        return token.icon\n    }\n\n    const userToken2AmountDecimal = () => {\n        let pool = pools.get(props.poolId)\n        let user_share = userPoolShare()\n        return BigNumber(user_share).times(pool.token2Amount)\n    }\n\n    const userToken2Amount = () => {\n        return decimal_int_to_float(pool.token1, userToken2AmountDecimal())\n    }\n\n    const userBalance = () => {\n        let d1 = token1().decimals\n        let d2 = token2().decimals\n        let d_balance = Math.floor((d1 + d2) / 2)\n        return BigNumber(props.balance).shiftedBy(-d_balance).toString(10)\n    }\n\n    const handleClickWithdraw = () => {\n        setOpenRemoveLiquidity(true)\n    }\n\n    const renderRemoveLiquidity = () => {\n        if (openRemoveLiquidity) {\n            return (\n                <RemoveLiquidity\n                    poolId={props.poolId}\n                    balance={props.balance}\n                    token1Symbol={token1Symbol()}\n                    token2Symbol={token2Symbol()}\n                    token1Icon={token1Icon()}\n                    token2Icon={token2Icon()}\n                    token1={token1().address}\n                    token2={token2().address}\n                    token1Amount={userToken1Amount()}\n                    token2Amount={userToken2Amount()}\n                    openRemoveLiquidity={setOpenRemoveLiquidity}\n                />\n            )\n        }\n    }\n\n    return (\n        <Box\n            sx={{\n                p: 3,\n                border: '1px solid',\n                borderColor: 'rgba(255, 255, 255, 0.27)',\n                mt: 2,\n                mb: 0,\n                boxShadow: 40,\n                borderRadius: 2,\n                backgroundColor: '#0d0c1e'\n            }}>\n            <Card sx={{ p: 3, boxShadow: 2, mb: 1, backgroundColor: '#201e43' }}>\n                <Typography\n                    sx={{ fontSize: 18, fontWeight: '500', ml: 2, mb: 0.5, mt: -1 }}>\n                    Your Position\n                </Typography>\n\n                <Divider\n                    variant='middle'\n                    sx={{\n                        borderBottomWidth: 1,\n                        backgroundColor: 'rgba(255, 255, 255, 0.2)'\n                    }}\n                />\n\n                <CardContent sx={{ mb: -4 }}>\n                    <Grid item container direction='row' alignItems='center'>\n                        <Grid item xs={8}>\n                            <Stack direction='row' spacing={0} alignItems='center'>\n                                <Item\n                                    sx={{ boxShadow: 0, mr: 0 }}\n                                    style={{ backgroundColor: 'transparent' }}>\n                                    <img\n                                        src={token1Icon()}\n                                        alt=''\n                                        width='48'\n                                        height='48'\n                                    />\n                                </Item>\n                                <Item\n                                    sx={{ boxShadow: 0, ml: -2, mr: 1 }}\n                                    style={{ backgroundColor: 'transparent' }}>\n                                    <img\n                                        src={token2Icon()}\n                                        alt=''\n                                        width='48'\n                                        height='48'\n                                    />\n                                </Item>\n                                <Item\n                                    sx={{ boxShadow: 0, backgroundColor: 'transparent' }}>\n                                    <Typography\n                                        sx={{ fontSize: 24, fontWeight: 'bold' }}\n                                        color='text.primary'\n                                        gutterBottom>\n                                        {token1Symbol()} / {token2Symbol()}:\n                                    </Typography>\n                                </Item>\n                            </Stack>\n                            <Typography\n                                sx={{ fontSize: 16, fontWeight: 'normal' }}\n                                color='text.primary'>\n                                Your Pool Share:\n                            </Typography>\n                            <Typography\n                                sx={{ fontSize: 16, fontWeight: 'normal' }}\n                                color='text.primary'>\n                                Pooled {token1Symbol()}:\n                            </Typography>\n                            <Typography\n                                sx={{ fontSize: 16, fontWeight: 'normal' }}\n                                color='text.primary'>\n                                Pooled {token2Symbol()}:\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={4} textAlign='right'>\n                            <Typography\n                                sx={{ fontSize: 24, fontWeight: 'normal' }}\n                                color='text.primary'\n                                gutterBottom>\n                                {numFormat(userBalance())}\n                            </Typography>\n                            <Typography\n                                sx={{ fontSize: 16, fontWeight: 'bold' }}\n                                color='text.primary'>\n                                {numFormat(userPoolShare(), true)}%\n                            </Typography>\n                            <Typography\n                                sx={{ fontSize: 16, fontWeight: 'bold' }}\n                                color='text.primary'>\n                                {numFormat(userToken1Amount())}\n                            </Typography>\n                            <Typography\n                                sx={{ fontSize: 16, fontWeight: 'bold' }}\n                                color='text.primary'>\n                                {numFormat(userToken2Amount())}\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                </CardContent>\n            </Card>\n            <CardActions>\n                <Grid item container justifyContent='center'>\n                    <StyledLoadingButton\n                        sx={{ width: '50%', mb: -1 }}\n                        onClick={handleClickWithdraw}>\n                        <StyledButtonTypography>WITHDRAW</StyledButtonTypography>\n                    </StyledLoadingButton>\n                    {renderRemoveLiquidity()}\n                </Grid>\n            </CardActions>\n        </Box>\n    )\n}\n\nexport default LiquidityPool\n","import React, { useState, useEffect } from 'react'\nimport { useRecoilState } from 'recoil'\nimport { BigNumber } from 'bignumber.js'\n\nimport LiquidityPool from './LiquidityPool'\nimport { poolsState, walletAddressState } from '../atoms'\nimport { getLPBalance, updatePoolDynamicData } from '../services/amm'\nimport { useInterval } from 'usehooks-ts'\n\n\nfunction Positions() {\n    const [pools] = useRecoilState(poolsState)\n    const [connectedAddress] = useRecoilState(walletAddressState)\n    const [userPools, setUserPools] = useState(() => new Map())\n\n    const updatePoolsIntervalCallback = async () => {\n        // Allow periodic update for pools with positions\n        userPools.forEach((balance, poolId) => {\n            if (!BigNumber(balance).isZero()) {\n                updatePoolDynamicData(poolId)\n            }\n        })\n    }\n\n    // timer to update pools where we have open positions\n    useInterval(updatePoolsIntervalCallback, 60000)\n\n    useEffect(() => {\n        async function fetchBalance(poolId) {\n            const balance = await getLPBalance(poolId, connectedAddress)\n            if (balance) {\n                setUserPools((prev) => {\n                    let m = new Map(prev)\n                    m.set(poolId, balance)\n                    return m\n                })\n            }\n        }\n        if (connectedAddress) {\n            pools.forEach((pool) => {\n                fetchBalance(pool.id)\n            })\n        }\n    }, [connectedAddress, pools])\n\n    const allPools = () => {\n        let r = []\n        userPools.forEach((balance, poolId) => {\n            if (!BigNumber(balance).isZero()) {\n                r.push(<LiquidityPool key={poolId} poolId={poolId} balance={balance} />)\n                //YS: don't call this from UI thread. updatePoolDynamicData(poolId)\n            }\n        })\n        return r\n    }\n\n    return <div>{allPools()}</div>\n}\n\nexport default Positions\n","import React, { useState, useEffect } from 'react'\nimport { useRecoilState } from 'recoil'\nimport { getRecoil } from 'recoil-nexus'\nimport { BigNumber } from 'bignumber.js'\n\nimport {\n    tokensState,\n    poolsState,\n    tokensUserDataState,\n    walletAddressState,\n    addLiquiditySlippage,\n    transactionsStatusSelector\n} from '../atoms'\n\nimport {\n    add_liquidity,\n    updateTokenDynamicData,\n    updatePoolDynamicData,\n    getPoolIdFromTokens,\n    decimal_int_to_float,\n    float_to_decimal_int,\n    addToastMsg,\n    getPoolPriceForTokenA,\n    numFormat,\n    isTokenApproved,\n    calcOtherTokenRequiredAmountForLiquidity,\n    checkAndUpdateComponentTransactions,\n    isSufficientBalanceInWallet,\n    WALLET_SUFFICIENT_BALANCE\n} from '../services/amm'\n\nimport {\n    FormControl,\n    TextField,\n    Grid,\n    Box,\n    Card,\n    CardContent,\n    Divider,\n    Typography\n} from '@mui/material'\nimport MonetizationOnIcon from '@mui/icons-material/MonetizationOn'\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet'\n\nimport { useInterval } from 'usehooks-ts'\n\nimport { GApage, GAbutton } from '../services/ga.js'\n\nimport Approve from './Approve.js'\nimport BoxHeader from './BoxHeader.js'\nimport Positions from './Positions.js'\nimport TokenSelector from './TokenSelector.js'\nimport ConnectWallet from './ConnectWallet.js'\nimport { StyledLoadingButton, StyledButtonTypography } from './StyleCustomizations'\n\nfunction Provide() {\n    const [tokens] = useRecoilState(tokensState)\n    const [pools] = useRecoilState(poolsState)\n    const [token1, setToken1] = useState('')\n    const [token1Amount, setToken1Amount] = useState('')\n    const [token2, setToken2] = useState('')\n    const [token2Amount, setToken2Amount] = useState('')\n    const [activePoolId, setActivePoolId] = useState(0)\n    const [connectedAddress] = useRecoilState(walletAddressState)\n    const [addLiquidityInProgress, setAddLiquidityInProgress] = useState(false)\n    const [leadingToken, setLeadingToken] = useState(0) // 0 is no token, 1/2 is the last updated token\n    const [\n        approveToken1TxCompletedSuccessfully,\n        setApproveToken1TxCompletedSuccessfully\n    ] = useState(false)\n    const [\n        approveToken2TxCompletedSuccessfully,\n        setApproveToken2TxCompletedSuccessfully\n    ] = useState(false)\n\n    const [transactionsStatus] = useRecoilState(\n        transactionsStatusSelector('add_liquidity')\n    )\n    const [tuds] = useRecoilState(tokensUserDataState)\n    const [componentTxs, setComponentTxs] = useState({})\n\n    useEffect(() => {\n        GApage('pools')\n    }, [])\n\n    useEffect(() => {\n        console.log(\n            'Add Liquidity: called checkAndUpdateComponentTransactions ',\n            componentTxs\n        )\n        checkAndUpdateComponentTransactions(\n            transactionsStatus,\n            componentTxs,\n            setAddLiquidityInProgress\n        )\n    }, [transactionsStatus, componentTxs])\n\n    useEffect(() => {}, [tuds, pools])\n\n    useEffect(() => {\n        if (token1 && token2) {\n            let poolId = getPoolIdFromTokens(token1, token2)\n            setActivePoolId(poolId)\n\n            // follow the leader\n            if (leadingToken <= 1) {\n                // cannot be 0, but just for safety\n                if (poolId > 0) {\n                    let amount = calcOtherTokenRequiredAmountForLiquidity(\n                        token1,\n                        token2,\n                        token1Amount\n                    )\n                    //console.log('Provide Liquidity amount: ', amount)\n                    if (amount !== undefined) setToken2Amount(amount) // can set amount with numFormat for nicer display: numFormat(amount)\n                } else {\n                    setToken2Amount(0)\n                }\n            } else {\n                if (poolId > 0) {\n                    let amount = calcOtherTokenRequiredAmountForLiquidity(\n                        token2,\n                        token1,\n                        token2Amount\n                    )\n                    if (amount !== undefined) setToken1Amount(amount) // can set amount with numFormat for nicer display\n                } else {\n                    setToken1Amount(0)\n                }\n            }\n        }\n    }, [token1, token2, token1Amount, token2Amount, leadingToken, pools])\n\n    const updateTokensIntervalCallback = async () => {\n        // Allow periodic update only if both tokens are selected\n        if (activePoolId > 0) {\n            updatePoolDynamicData(activePoolId)\n        } else {\n            if (token1) updateTokenDynamicData(token1)\n            if (token2) updateTokenDynamicData(token2)\n        }\n    }\n\n    // timer to update token1 user data (allowance, amount)\n    // and selected pool data\n    useInterval(updateTokensIntervalCallback, 15000)\n\n    const handleToken1Select = (event) => {\n        let token_address = event.target.value\n        setToken1(token_address)\n        setApproveToken1TxCompletedSuccessfully(false)\n        setApproveToken2TxCompletedSuccessfully(false)\n        updateTokenDynamicData(token_address)\n\n        GAbutton('pool-token1')\n    }\n\n    const handleToken2Select = (event) => {\n        let token_address = event.target.value\n        setToken2(token_address)\n        setApproveToken1TxCompletedSuccessfully(false)\n        setApproveToken2TxCompletedSuccessfully(false)\n        updateTokenDynamicData(token_address)\n\n        GAbutton('pool-token2')\n    }\n\n    // Fixme: a perfect dup of the function in swap - consider extracting to util service module\n    const handleTokenAmountChange = (token, amount) => {\n        // fixme: consider limit decimals input according to token decimals\n        const regex = /^(([0-9]+[.]?[0-9]*)|([.][0-9]+))$/\n\n        if (token === token1 && (amount === '' || regex.test(amount))) {\n            setToken1Amount(amount)\n            setLeadingToken(1)\n        }\n        if (token === token2 && (amount === '' || regex.test(amount))) {\n            setToken2Amount(amount)\n            setLeadingToken(2)\n        }\n    }\n\n    const handleAddLiquidity = async () => {\n        setAddLiquidityInProgress(true)\n        GAbutton('add-liquidity')\n        let slippage = parseFloat(getRecoil(addLiquiditySlippage)) / 100\n        let minAmount1Out = BigNumber(token1Amount)\n            .times(BigNumber(1).minus(BigNumber(slippage)))\n            .toString(10)\n        let minAmount2Out = BigNumber(token2Amount)\n            .times(BigNumber(1).minus(BigNumber(slippage)))\n            .toString(10)\n        console.log('Add Liquidity slippage: ', slippage)\n        console.log(\n            'Add Liquidity minAmountOut: ',\n            minAmount1Out,\n            float_to_decimal_int(token1, minAmount1Out)\n        )\n\n        try {\n            let tx = await add_liquidity(\n                token1,\n                float_to_decimal_int(token1, token1Amount),\n                float_to_decimal_int(token1, minAmount1Out),\n                token2,\n                float_to_decimal_int(token2, token2Amount),\n                float_to_decimal_int(token2, minAmount2Out)\n            )\n\n            if (!tx) throw Error('Cannot perform transaction')\n\n            setComponentTxs((prevState) => ({\n                ...prevState,\n                [tx.transaction_hash]: 'new'\n            }))\n            console.log(\n                'Add Liquidity: Setting component transaction ',\n                typeof tx.transaction_hash,\n                componentTxs\n            )\n        } catch (e) {\n            addToastMsg('User abort', 'error')\n            setAddLiquidityInProgress(false)\n        }\n    }\n\n    const addLiquidityButton = () => {\n        let token1SufficientBalance = isSufficientBalanceInWallet(token1, token1Amount)\n        let token2SufficientBalance = isSufficientBalanceInWallet(token2, token2Amount)\n\n        if (\n            token1 &&\n            token2 &&\n            token1Amount > 0 &&\n            token2Amount > 0 &&\n            token1SufficientBalance === WALLET_SUFFICIENT_BALANCE.TRUE &&\n            token2SufficientBalance === WALLET_SUFFICIENT_BALANCE.TRUE &&\n            activePoolId !== 0\n        ) {\n            // PoolId is valid - display ADD LIQUIDITY button\n            return (\n                <StyledLoadingButton\n                    fullWidth={true}\n                    disabled={\n                        (connectedAddress &&\n                            isTokenApproved(token1, token1Amount) &&\n                            isTokenApproved(token2, token2Amount)) ||\n                        addLiquidityInProgress ||\n                        (approveToken2TxCompletedSuccessfully &&\n                            isTokenApproved(token1, token1Amount)) ||\n                        (approveToken1TxCompletedSuccessfully &&\n                            isTokenApproved(token2, token2Amount))\n                            ? false\n                            : true\n                    }\n                    loading={addLiquidityInProgress}\n                    loadingPosition='start'\n                    startIcon={<MonetizationOnIcon />}\n                    onClick={handleAddLiquidity}>\n                    <StyledButtonTypography>\n                        {addLiquidityInProgress ? 'ADDING LIQUIDITY' : 'ADD LIQUIDITY'}\n                    </StyledButtonTypography>\n                </StyledLoadingButton>\n            )\n        }\n\n        if (\n            connectedAddress &&\n            token1 &&\n            token2 &&\n            token1Amount > 0 &&\n            token2Amount > 0 &&\n            (token1SufficientBalance !== WALLET_SUFFICIENT_BALANCE.TRUE ||\n                token2SufficientBalance !== WALLET_SUFFICIENT_BALANCE.TRUE)\n        ) {\n            // Amount exceed wallet balance\n            return (\n                <StyledLoadingButton\n                    fullWidth={true}\n                    disabled={true}\n                    loading={\n                        token1SufficientBalance === WALLET_SUFFICIENT_BALANCE.UNKNOWN ||\n                        token2SufficientBalance === WALLET_SUFFICIENT_BALANCE.UNKNOWN\n                    }\n                    loadingPosition='start'\n                    startIcon={<AccountBalanceWalletIcon />}>\n                    <StyledButtonTypography>\n                        {token1SufficientBalance === WALLET_SUFFICIENT_BALANCE.FALSE ||\n                        token2SufficientBalance === WALLET_SUFFICIENT_BALANCE.FALSE\n                            ? 'AMOUNT EXCEEDS WALLET BALANCE'\n                            : 'CHECKING WALLET BALANCE'}\n                    </StyledButtonTypography>\n                </StyledLoadingButton>\n            )\n        }\n\n        if (token1 && token2 && activePoolId === 0) {\n            // No pool for token pair selected\n            return (\n                <StyledLoadingButton\n                    color='primary'\n                    variant='contained'\n                    fullWidth={true}\n                    disabled={true}>\n                    <StyledButtonTypography>NOT A VALID Pool</StyledButtonTypography>\n                </StyledLoadingButton>\n            )\n        }\n\n        if (connectedAddress) {\n            // Wallet is connected\n            let instruction = ''\n            if (!token1 && !token2) instruction = 'SELECT TOKENS'\n            if ((!token1 && token2) || (token1 && !token2)) instruction = 'SELECT TOKEN'\n            if (token1 && token2 && (!token1Amount || !token2Amount))\n                instruction = 'ENTER AMOUNT'\n\n            if (instruction !== '')\n                return (\n                    <StyledLoadingButton\n                        color='secondary'\n                        variant='contained'\n                        fullWidth={true}\n                        disabled={true}>\n                        <StyledButtonTypography>{instruction}</StyledButtonTypography>\n                    </StyledLoadingButton>\n                )\n        }\n\n        return <div></div>\n    }\n\n    const priceAndShare = () => {\n        let pool = pools.get(activePoolId)\n\n        if (!token1Amount || !token2Amount || !activePoolId || !pool) return <div></div>\n\n        let symbol1 = tokens.get(token1).symbol\n        let symbol2 = tokens.get(token2).symbol\n\n        let priceForToken1 = getPoolPriceForTokenA(activePoolId, token2, token1)\n        let priceForToken2 = getPoolPriceForTokenA(activePoolId, token1, token2)\n\n        // Normalize reserves amounts and get expected share in the pool\n        let pool_share =\n            pool.token1 === token1\n                ? BigNumber(token1Amount).div(\n                      BigNumber(token1Amount).plus(\n                          BigNumber(decimal_int_to_float(pool.token1, pool.token1Amount))\n                      )\n                  )\n                : BigNumber(token1Amount).div(\n                      BigNumber(token1Amount).plus(\n                          BigNumber(decimal_int_to_float(pool.token2, pool.token2Amount))\n                      )\n                  )\n\n        return (\n            <>\n                <Grid>\n                    <Card sx={{ p: 3, boxShadow: 2, mt: 1, backgroundColor: '#201e43' }}>\n                        <CardContent sx={{ mt: -3.5 }}>\n                            <Typography\n                                AlignItems='flex-start'\n                                sx={{\n                                    fontSize: 18,\n                                    fontWeight: 'normal',\n                                    fontColor: '#fff',\n                                    mb: -1\n                                }}>\n                                Pool Prices and Share\n                            </Typography>\n                        </CardContent>\n\n                        <Divider\n                            variant='middle'\n                            sx={{\n                                borderBottomWidth: 1,\n                                backgroundColor: 'rgba(255, 255, 255, 0.2)'\n                            }}\n                        />\n\n                        <Card\n                            sx={{\n                                mb: -2.5,\n                                mt: -0.5,\n                                backgroundColor: 'transparent',\n                                boxShadow: 0\n                            }}>\n                            <Grid item container alignItems='center' spacing={2}>\n                                <Grid item xs={4}>\n                                    <Typography\n                                        sx={{\n                                            textAlign: 'center',\n                                            lineHeight: 2,\n                                            mt: 1,\n                                            fontWeight: 'bold'\n                                        }}>\n                                        {numFormat(priceForToken1)}\n                                    </Typography>\n                                    <Typography\n                                        sx={{\n                                            textAlign: 'center',\n                                            fontSize: 12,\n                                            mb: 1,\n                                            color: '#6f6e8f'\n                                        }}>\n                                        {symbol1} for {symbol2}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={4}>\n                                    <Typography\n                                        sx={{\n                                            textAlign: 'center',\n                                            lineHeight: 2,\n                                            mt: 1,\n                                            fontWeight: 'bold'\n                                        }}>\n                                        {numFormat(priceForToken2)}\n                                    </Typography>\n                                    <Typography\n                                        sx={{\n                                            textAlign: 'center',\n                                            fontSize: 12,\n                                            mb: 1,\n                                            color: '#6f6e8f'\n                                        }}>\n                                        {symbol2} for {symbol1}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={4}>\n                                    <Typography\n                                        sx={{\n                                            textAlign: 'center',\n                                            lineHeight: 2,\n                                            mt: 1,\n                                            fontWeight: 'bold'\n                                        }}>\n                                        {numFormat(pool_share, true)}%\n                                    </Typography>\n                                    <Typography\n                                        sx={{\n                                            textAlign: 'center',\n                                            fontSize: 12,\n                                            mb: 1,\n                                            color: '#6f6e8f'\n                                        }}>\n                                        Share of Pool\n                                    </Typography>\n                                </Grid>\n                            </Grid>\n                        </Card>\n                    </Card>\n                </Grid>\n            </>\n        )\n    }\n\n    return (\n        <div>\n            <Box\n                sx={{\n                    p: 3,\n                    border: '1px solid',\n                    borderColor: 'rgba(255, 255, 255, 0.27)',\n                    mt: 0,\n                    mb: 4,\n                    boxShadow: 40,\n                    borderRadius: 2,\n                    backgroundColor: '#0d0c1e'\n                }}>\n                <Grid container sx={{ mb: 2 }}>\n                    <BoxHeader name='Add Liquidity' />\n                </Grid>\n\n                <Card sx={{ p: 2, boxShadow: 2, mb: 1, backgroundColor: '#201e43' }}>\n                    <Grid container spacing={2}>\n                        <Grid item xs={5}>\n                            <TokenSelector\n                                token={token1}\n                                tokenStr={'Token 1'}\n                                otherToken={token2}\n                                tokens={tokens}\n                                handleTokenSelect={handleToken1Select}\n                                showMaxButton={true}\n                                handleTokenAmountChange={handleTokenAmountChange}\n                            />\n                        </Grid>\n\n                        <Grid item xs={7}>\n                            <FormControl fullWidth>\n                                <TextField\n                                    helperText='Amount to provide'\n                                    id='token1-amount'\n                                    inputProps={{\n                                        variant: 'outlined',\n                                        placeholder: '0.00',\n                                        type: 'string',\n                                        autoComplete: 'off',\n                                        style: { fontSize: 24 },\n                                        'aria-labelledby': 'input-amount1'\n                                    }}\n                                    sx={{\n                                        input: { background: '#0d0c1e', borderRadius: 1 },\n                                        '&:hover': {\n                                            '&& fieldset': {\n                                                border: '0px solid green',\n                                                color: 'white'\n                                            }\n                                        },\n                                        '.MuiOutlinedInput-notchedOutline': {\n                                            border: '0px'\n                                        }\n                                    }}\n                                    value={token1Amount ? token1Amount : ''}\n                                    onChange={(e) =>\n                                        handleTokenAmountChange(token1, e.target.value)\n                                    }\n                                    error={\n                                        isSufficientBalanceInWallet(\n                                            token1,\n                                            token1Amount\n                                        ) === WALLET_SUFFICIENT_BALANCE.FALSE\n                                            ? true\n                                            : false\n                                    }\n                                    disabled={token1 === '' ? true : false}\n                                />\n                            </FormControl>\n                        </Grid>\n                    </Grid>\n                </Card>\n\n                <Card sx={{ p: 2, mt: 0, boxShadow: 2, backgroundColor: '#201e43' }}>\n                    <Grid container spacing={2}>\n                        <Grid item xs={5}>\n                            <TokenSelector\n                                token={token2}\n                                tokenStr={'Token 2'}\n                                otherToken={token1}\n                                tokens={tokens}\n                                handleTokenSelect={handleToken2Select}\n                                showMaxButton={true}\n                                handleTokenAmountChange={handleTokenAmountChange}\n                            />\n                        </Grid>\n\n                        <Grid item xs={7}>\n                            <FormControl fullWidth>\n                                <TextField\n                                    helperText='Amount to provide'\n                                    id='token2-amount'\n                                    inputProps={{\n                                        variant: 'outlined',\n                                        placeholder: '0.00',\n                                        type: 'string',\n                                        autoComplete: 'off',\n                                        style: { fontSize: 24 },\n                                        'aria-labelledby': 'input-amount2'\n                                    }}\n                                    sx={{\n                                        input: { background: '#0d0c1e', borderRadius: 1 },\n                                        '&:hover': {\n                                            '&& fieldset': {\n                                                border: '0px solid green',\n                                                color: 'white'\n                                            }\n                                        },\n                                        '.MuiOutlinedInput-notchedOutline': {\n                                            border: '0px'\n                                        }\n                                    }}\n                                    value={token2Amount ? token2Amount : ''}\n                                    onChange={(e) =>\n                                        handleTokenAmountChange(token2, e.target.value)\n                                    }\n                                    error={\n                                        isSufficientBalanceInWallet(\n                                            token2,\n                                            token2Amount\n                                        ) === WALLET_SUFFICIENT_BALANCE.FALSE\n                                            ? true\n                                            : false\n                                    }\n                                    disabled={token2 === '' ? true : false}\n                                />\n                            </FormControl>\n                        </Grid>\n                    </Grid>\n                </Card>\n\n                {priceAndShare()}\n\n                <Card\n                    sx={{ mb: -1, mt: 2, backgroundColor: 'transparent', boxShadow: 0 }}>\n                    <ConnectWallet secondary='true' />\n\n                    <Approve\n                        token={token1}\n                        tokenAmount={token1Amount}\n                        activePoolId={activePoolId}\n                        tokenInRange={\n                            isSufficientBalanceInWallet(token1, token1Amount) ===\n                            WALLET_SUFFICIENT_BALANCE.TRUE\n                        }\n                        approveTxStatusUpdateCallback={\n                            setApproveToken1TxCompletedSuccessfully\n                        }\n                    />\n\n                    <Approve\n                        token={token2}\n                        tokenAmount={token2Amount}\n                        activePoolId={activePoolId}\n                        tokenInRange={\n                            isSufficientBalanceInWallet(token2, token2Amount) ===\n                            WALLET_SUFFICIENT_BALANCE.TRUE\n                        }\n                        approveTxStatusUpdateCallback={\n                            setApproveToken2TxCompletedSuccessfully\n                        }\n                    />\n\n                    {addLiquidityButton()}\n                </Card>\n            </Box>\n\n            {/* User's position boxes */}\n            <Positions />\n        </div>\n    )\n}\n\nexport default Provide\n","import React from 'react'\n\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Title,\n    Tooltip,\n    Legend\n} from 'chart.js'\n// import { Line } from 'react-chartjs-2'\nimport { Typography, /*Box, Card,*/ Grid } from '@mui/material'\n// import BoxHeader from './BoxHeader.js'\n\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Title,\n    Tooltip,\n    Legend\n)\n\nfunction Charts() {\n    // const labels = [\n    //     '2021-12-14',\n    //     '2021-12-13',\n    //     '2021-12-12',\n    //     '2021-12-11',\n    //     '2021-12-10',\n    //     '2021-12-09',\n    //     '2021-12-08',\n    //     '2021-12-07',\n    //     '2021-12-06',\n    //     '2021-12-05'\n    // ]\n    // const datasets = [\n    //     {\n    //         id: 1,\n    //         label: '',\n    //         data: [\n    //             9.486967291294242, 9.913585044383598, 6.1093149832212585,\n    //             8.888170412454828, 9.644500380279675, 5.592256920179448,\n    //             1.6120884439497363, 1.6694652914713426, 9.780713359093626,\n    //             6.9842512776941055\n    //         ]\n    //     }\n    // ]\n    // return (\n    //     <Box sx={{ p: 2, border: '0px solid', mt: 1, mb: 4, boxShadow: 2 }}>\n    //         <div>\n    //             <Grid container sx={{ mb: 2 }}>\n    //                 <BoxHeader name='Charts' />\n    //             </Grid>\n\n    //             <Card sx={{ p: 2, boxShadow: 2, mb: -4 }}>\n    //                 <h1>Coming soon...</h1>\n    //             </Card>\n    //         </div>\n    //     </Box>\n    // )\n    /*\n    return (\n        <div>\n            <Card sx={{ mb: 0, mt: 0 }}>\n                <Typography>Overview</Typography>\n                <Grid item container alignItems='center' spacing={2}>\n                    <Grid item xs={6}>\n                        <Line\n                            datasetIdKey='id'\n                            data={{ labels: labels, datasets: datasets }}\n                        />\n                    </Grid>\n\n                    <Grid item xs={6}>\n                        <Line\n                            datasetIdKey='id'\n                            data={{ labels: labels, datasets: datasets }}\n                        />\n                    </Grid>\n                </Grid>\n            </Card>\n        </div>\n    )*/\n    return (\n        <div>\n            <Grid alignItems='center'>\n                <Typography\n                    variant='subtitle1'\n                    align='center'\n                    sx={{ mt: 20 }}\n                    style={{\n                        fontSize: 40,\n                        fontWeight: '500',\n                        color: 'gray',\n                        justifyContent: 'center'\n                    }}>\n                    Coming Soon\n                </Typography>\n            </Grid>\n        </div>\n    )\n}\n\nexport default Charts\n","import React, { useState } from 'react'\nimport Swap from './Swap'\nimport Provide from './Provide'\nimport Charts from './Charts'\nimport { Tab, Tabs, Box } from '@mui/material'\n\nconst Main = () => {\n    const [selectedTab, setSelectedTab] = useState(0)\n\n    const handleChange = (event, newValue) => {\n        setSelectedTab(newValue)\n    }\n\n    return (\n        <Box>\n            <Tabs\n                sx={{\n                    mt: 2,\n                    mb: 2,\n                    '& .Mui-selected': {\n                        fontWeight: 'bold'\n                    }\n                }}\n                disableRipple\n                value={selectedTab}\n                onChange={handleChange}\n                centered>\n                <Tab\n                    disableRipple\n                    label='Swap'\n                    sx={{ fontSize: 22, color: 'rgba(255, 255, 255, 0.4)' }}\n                />\n                <Tab\n                    disableRipple\n                    label='Pools'\n                    sx={{ fontSize: 22, color: 'rgba(255, 255, 255, 0.4)' }}\n                />\n                <Tab\n                    disableRipple\n                    label='Charts'\n                    sx={{ fontSize: 22, color: 'rgba(255, 255, 255, 0.4)' }}\n                />\n            </Tabs>\n            {selectedTab === 0 && <Swap />}\n            {selectedTab === 1 && <Provide />}\n            {selectedTab === 2 && <Charts />}\n        </Box>\n    )\n}\n\nexport default Main\n","import { Box, Card, AppBar, Toolbar, Grid, Button, Typography } from '@mui/material'\nimport React, { useEffect, useState } from 'react'\nimport { useRecoilState } from 'recoil'\nimport {\n    tokensState,\n    walletAddressState,\n    walletAmountsSelector,\n    walletAllowanceSelector,\n    lastTxDoneSelector\n} from '../atoms'\nimport { approve } from '../services/amm'\n\nfunction Wiper() {\n    const [mintedTokens, setMintedTokens] = useState(new Map())\n    const [waitingToWipe, setWaitingToWipe] = useState([])\n\n    const [tokens] = useRecoilState(tokensState)\n    const [connectedAddress] = useRecoilState(walletAddressState)\n    const [walletAmounts] = useRecoilState(walletAmountsSelector)\n    const [walletAllowances] = useRecoilState(walletAllowanceSelector)\n    const [lastTxDone] = useRecoilState(lastTxDoneSelector)\n    const [startWipe, setStartWipe] = useState(false)\n\n    useEffect(() => {\n        console.log('minter tokens effect')\n        tokens.forEach((value, address) => {\n            console.log(address)\n            if (!mintedTokens.get(address)) {\n                setMintedTokens((prev) => {\n                    let n = new Map(prev)\n                    n.set(address, 0)\n                    return n\n                })\n            }\n        })\n    }, [tokens])\n\n    const mintedState = { 0: '...', 1: 'WIPING', 2: 'WIPED' }\n\n    const waitingToWipeList = () => {\n        let r = []\n        console.log(waitingToWipe)\n        for (const x of waitingToWipe) {\n            r.push(<div>token {x}</div>)\n        }\n        return r\n    }\n\n    const myTokensList = () => {\n        console.log('myTokensList!')\n        let r = []\n        mintedTokens.forEach((minted, address) => {\n            let token = tokens.get(address)\n            //console.log('walletAmounts=', walletAmounts)\n            let walletAmount = walletAmounts.get(address)\n            let approvedAmount = walletAllowances.get(address)\n            if (token) {\n                r.push(\n                    <Card key={address} sx={{ mt: 1 }}>\n                        <Grid container direction='row'>\n                            <Grid sx={{ mr: 1, mb: -1 }}>\n                                <img src={token.icon} alt='' width='24' height='24' />\n                            </Grid>\n                            <Grid>\n                                <Typography>{token.name || token.address}</Typography>\n                            </Grid>\n                            <Grid sx={{ ml: 2 }}>\n                                <Typography>\n                                    {' '}\n                                    in wallet: {walletAmount ? 'YES' : 'NONE'}\n                                </Typography>\n                            </Grid>\n                            <Grid sx={{ ml: 2 }}>\n                                <Typography>\n                                    {' '}\n                                    approved:{' '}\n                                    {approvedAmount && approvedAmount !== '0'\n                                        ? 'YES'\n                                        : 'NO'}\n                                </Typography>\n                            </Grid>\n                            <Grid\n                                container\n                                direction='row'\n                                justifyContent='flex-end'\n                                sx={{ mr: 1, mt: -3 }}>\n                                {mintedState[minted]}\n                            </Grid>\n                        </Grid>\n                    </Card>\n                )\n            }\n        })\n\n        //console.log(r)\n        return r\n    }\n\n    const wipeNextToken = () => {\n        console.log('waiting:', waitingToWipe)\n        let x = [...waitingToWipe]\n        let address = x.shift()\n        console.log('address: ', address)\n        approve(address, '0')\n        setWaitingToWipe(x)\n    }\n\n    useEffect(() => {\n        console.log(\n            'lastTxDone changed, val=',\n            lastTxDone,\n            ' waitingToWipe=',\n            waitingToWipe\n        )\n        if (lastTxDone && waitingToWipe.length > 0) {\n            wipeNextToken()\n        }\n        setStartWipe(false)\n    }, [lastTxDone])\n\n    useEffect(() => {\n        if (startWipe && lastTxDone && waitingToWipe.length > 0) {\n            wipeNextToken()\n        }\n    }, [startWipe])\n\n    const handleWipe = async () => {\n        console.log('will wipe...')\n        console.log(mintedTokens.entries())\n\n        let xx = []\n\n        for (const entry of mintedTokens.entries()) {\n            console.log(entry)\n            let address = entry[0]\n            let minted = entry[1]\n            console.log('handleWipe address=', address, ' minted=', minted)\n            let token = tokens.get(address)\n            let approvedAmount = walletAllowances.get(address)\n            console.log('token=', address, ' approvedAmount=', approvedAmount)\n            if (minted === 0 && token && approvedAmount && approvedAmount !== '0') {\n                /*  setWaitingToWipe((curr) => {\n                    return [...curr, address]\n                })*/\n                xx.push((' ' + address).slice(1))\n                console.log('xx=', xx)\n                /*\n                let tx = await ERC20_mint(\n                    address,\n                    float_to_decimal_int(address, mintAmount)\n                )*/\n\n                setMintedTokens((prev) => {\n                    let n = new Map(prev)\n                    n.set(address, 1)\n                    return n\n                })\n            }\n        }\n        setWaitingToWipe(xx)\n        setStartWipe(true)\n        // if (lastTxDone) wipeNextToken()\n    }\n\n    return (\n        <Box>\n            <Grid container sx={{ mt: 2, mb: 2 }}>\n                <Box sx={{ flexGrow: 1 }}>\n                    <AppBar position='static'>\n                        <Toolbar>\n                            <Typography>Wipe allowances</Typography>\n                        </Toolbar>\n                    </AppBar>\n                </Box>\n            </Grid>\n            <Grid container spacing={2} sx={{}}>\n                <Grid item xs={12}>\n                    <Button\n                        color='inherit'\n                        variant='outlined'\n                        fullWidth={true}\n                        disabled={connectedAddress ? false : true}\n                        onClick={handleWipe}>\n                        {connectedAddress ? 'WIPE' : 'PLEASE CONNECT WALLET'}\n                    </Button>\n                </Grid>\n                <Grid item xs={12}>\n                    {myTokensList()}\n                </Grid>\n                waiting to wipe:\n                <Grid item xs={12}>\n                    {waitingToWipeList()}\n                </Grid>\n            </Grid>\n        </Box>\n    )\n}\n\nexport default Wiper\n","import React from 'react'\n\nimport { Snackbar, Alert } from '@mui/material'\n\nfunction Toast(props) {\n    const [open, setOpen] = React.useState(props.open)\n\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n            return\n        }\n        setOpen(false)\n    }\n\n    return (\n        <Snackbar\n            className='toast'\n            open={open}\n            autoHideDuration={6000}\n            key={props.msg}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            sx={{ mt: 12 }}\n            onClose={handleClose}>\n            <Alert onClose={handleClose} severity={props.type} sx={{ width: '100%' }}>\n                {props.msg}\n            </Alert>\n        </Snackbar>\n    )\n}\n\nexport default Toast\n","import React from 'react'\n\nimport { useRecoilState } from 'recoil'\n\nimport { toastsState } from '../atoms'\nimport Toast from './Toast.js'\n\nfunction Toasts() {\n    const [toasts] = useRecoilState(toastsState)\n\n    const activeToasts = () => {\n        let allActiveToasts = []\n        toasts.forEach((t) => {\n            if (!t.dismiss) {\n                allActiveToasts.push(\n                    <Toast\n                        key={t.hash}\n                        open={t.dismiss ? false : true}\n                        msg={t.msg}\n                        type={t.type}></Toast>\n                )\n            }\n        })\n        return allActiveToasts\n    }\n\n    return <div>{activeToasts()}</div>\n}\n\nexport default Toasts\n","import React from 'react'\nimport { Button, Typography, Grid } from '@mui/material'\n\n// import { human_readable_hash } from '../services/amm'\n\nfunction PendingTransaction(props) {\n    const handleClick = () => {\n        window.open('https://goerli.voyager.online/tx/' + props.hash, '_blank')\n    }\n\n    return (\n        <div>\n            <Grid class='Frame-1'>\n                <Button sx={{ mb: 0.5, maxHeight: 0 }} onClick={handleClick}>\n                    <Typography class='Connected-Wallet'>\n                        Tx {props.hash.substring(0, 6) + '...'} {props.transactionStatus}\n                    </Typography>\n                </Button>\n            </Grid>\n        </div>\n    )\n}\n\nexport default PendingTransaction\n","import React from 'react'\n\nimport { useRecoilState } from 'recoil'\nimport { useInterval } from 'usehooks-ts'\n\nimport { pendingTxsState } from '../atoms'\nimport PendingTransaction from './PendingTransaction.js'\nimport {\n    getTransactionUpdate,\n    updateAllTokensDynamicData,\n    updatePoolsAndTokens,\n    addToastMsg\n} from '../services/amm'\n\nfunction PendingTransactions() {\n    const [txs] = useRecoilState(pendingTxsState)\n\n    const updateTransactionsStatus = async () => {\n        txs.forEach(async (tx) => {\n            if (!tx.dismiss) {\n                let status = await getTransactionUpdate(tx.hash)\n                let name = tx.type\n                    .split(/ |_/)\n                    .map((x) => x[0].toUpperCase() + x.slice(1))\n                    .join(' ')\n                if (status !== null) {\n                    // should get here only if there is an update\n                    if (status.includes('RECEIVED')) {\n                        addToastMsg(name + ' Transaction Sent', 'success')\n                    }\n                    if (status.includes('REJECTED')) {\n                        addToastMsg(name + ' Transaction Rejected', 'error')\n                    }\n                    if (status.includes('PENDING')) {\n                        addToastMsg(name + ' Transaction Pending', 'success')\n                        updatePoolsAndTokens(false)\n                        updateAllTokensDynamicData()\n                    }\n                    if (status.includes('ACCEPTED')) {\n                        addToastMsg(name + ' Transaction Accepted', 'success')\n                    }\n                }\n            }\n        })\n    }\n    useInterval(updateTransactionsStatus, 10000)\n\n    const pendingTransactions = () => {\n        let r = []\n        txs.forEach((tx) => {\n            if (!tx.dismiss) {\n                r.push(\n                    <PendingTransaction\n                        key={tx.hash}\n                        hash={tx.hash}\n                        transactionStatus={tx.status}>\n                        {' '}\n                    </PendingTransaction>\n                )\n            }\n        })\n        return r\n    }\n\n    return <>{pendingTransactions()}</>\n}\n\nexport default PendingTransactions\n","export default __webpack_public_path__ + \"static/media/bg2.f3c2405f.png\";","import React, { useEffect } from 'react'\n\nimport { RecoilRoot } from 'recoil'\nimport RecoilNexus from 'recoil-nexus'\nimport { AppBar, Toolbar, Container, Grid } from '@mui/material'\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom'\n\nimport { updatePoolsAndTokens } from './services/amm'\nimport { updatePoolsAndTokensStatic } from './services/static_data'\n\nimport Main from './components/Main'\nimport Wiper from './components/Wiper'\nimport Toasts from './components/Toasts'\nimport Charts from './components/Charts'\nimport ConnectWallet from './components/ConnectWallet'\nimport PendingTransactions from './components/PendingTransactions'\n\nimport { GAinit, GApage } from './services/ga.js'\n\n// import BgImage from './images/bgd/bg2.svg'\nimport BgImage from './images/bgd/bg2.png'\nimport LogoImage from './images/logo/Logo-mySwap-White.png'\n\n// UI Fixme: could not make the bgd image transparency 0.7 without effecting all other elements on top of it\nconst styles = {\n    paperContainer: {\n        backgroundImage: `url(${BgImage})`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'top right',\n        backgroundRepeat: 'no-repeat',\n        width: '100%',\n        height: '100%',\n        minHeight: '100vh'\n    }\n}\n\nfunction App() {\n    useEffect(() => {\n        GAinit()\n        GApage('/')\n    }, [])\n\n    // run once, on page load\n    useEffect(() => {\n        updatePoolsAndTokensStatic()\n        console.log('Finished updating static data')\n        updatePoolsAndTokens(true)\n    }, [])\n\n    return (\n        <Router>\n            <RecoilRoot>\n                <RecoilNexus />\n                <div className='App'>\n                    <Grid className='op2' style={styles.paperContainer}>\n                        <Grid item>\n                            <AppBar class='Rectangle-1'>\n                                <Toolbar>\n                                    <Grid sx={{ mt: 0.5 }} justifyContent='flex-start'>\n                                        <img src={LogoImage} alt='' class='Group-1' />\n                                    </Grid>\n                                    <Grid\n                                        container\n                                        direction='row'\n                                        justifyContent='flex-end'\n                                        alignItems='center'>\n                                        <Grid item justifyContent='flex-end'>\n                                            <PendingTransactions />\n                                        </Grid>\n                                        <Grid item justifyContent='flex-end'>\n                                            <ConnectWallet />\n                                        </Grid>\n                                    </Grid>\n                                </Toolbar>\n                            </AppBar>\n                        </Grid>\n\n                        <Grid item>\n                            <Switch>\n                                <Route exact path='/'>\n                                    <Container style={{ maxWidth: 700 }}>\n                                        <Main />\n                                    </Container>\n                                </Route>\n                                <Route path='/charts'>\n                                    <Charts />\n                                </Route>\n                                <Route path='/wipe'>\n                                    <Container maxWidth='sm'>\n                                        <Wiper />\n                                    </Container>\n                                </Route>\n                            </Switch>\n                        </Grid>\n                        <Toasts />\n                    </Grid>\n                </div>\n            </RecoilRoot>\n        </Router>\n    )\n}\n\nexport default App\n","export default \"data:image/png;base64,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\"","import { createTheme } from '@mui/material/styles'\n\nexport const theme = createTheme({\n    palette: {\n        type: 'dark',\n        primary: {\n            // main: '#c0c0c0',\n            main: '#fff',\n            // contrastText: '#c0c0c0'\n            contrastText: '#fff'\n        },\n        secondary: {\n            main: '##615d74',\n            contrastText: '#e0e0e0'\n        },\n        background: {\n            default: '#0b0e13',\n            // default: '#192231',\n            // default: '##0b0e13',\n            paper: '#2e2e2e'\n        },\n        info: {\n            main: '#3d3d6b',\n            contrastText: '#e0e0e0'\n        },\n        text: {\n            // primary: '#aaa4c9',\n            primary: '#fff',\n            secondary: '##8a7920',\n            contrastText: '#e0e0e0',\n            disabled: 'rgba(121,121,121,0.5)'\n        }\n        // action: {\n        //     selected: '#E7A615',\n        //     hover: '#0FD371',\n        //     hoverOpacity: 0.7,\n        //     disabled: '#0b0c20'\n        // }\n    },\n    shape: {\n        borderRadius: 16,\n        overflow: 'hidden'\n    }\n})\n\nexport default theme\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n// import reportWebVitals from './reportWebVitals'\n\nimport CssBaseline from '@mui/material/CssBaseline'\nimport { ThemeProvider } from '@mui/material/styles'\nimport theme from './theme'\n\nif (process.env.NODE_ENV !== 'development') {\n    console.log = () => {}\n}\n\nReactDOM.render(\n    <ThemeProvider theme={theme}>\n        <React.StrictMode>\n            <CssBaseline>\n                <App />\n            </CssBaseline>\n        </React.StrictMode>\n    </ThemeProvider>,\n    document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals()\n"],"sourceRoot":""}